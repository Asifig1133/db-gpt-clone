2024-08-08 11:42:24 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x150548460>
2024-08-08 11:42:24 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x150548460>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x172641690>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x172641690>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x1726eaa70>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x1726eaa70>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x1502c5e40>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x1502c5e40>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x172838040>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x172838040>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x172838f40>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x172838f40>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x169af6020>
2024-08-08 11:42:26 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x169af6020>
2024-08-08 11:42:26 | INFO | dbgpt.app.initialization.embedding_component | Register local LocalEmbeddingFactory
2024-08-08 11:42:26 | INFO | dbgpt.model.adapter.embeddings_loader | [EmbeddingsModelWorker] Parameters of device is None, use mps
2024-08-08 11:42:26 | INFO | dbgpt.app.initialization.embedding_component | 

=========================== EmbeddingModelParameters ===========================

model_name: text2vec
model_path: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
device: mps
normalize_embeddings: None
rerank: False
max_length: None

======================================================================


2024-08-08 11:42:29 | INFO | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
2024-08-08 11:42:29 | WARNING | sentence_transformers.SentenceTransformer | No sentence-transformers model found with name /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese. Creating a new one with mean pooling.
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x1726f6740>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x1726f6740>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x32f5d9c30>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x32f5d9c30>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x32f5d8af0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x32f5d8af0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x32f5da440>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x32f5da440>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x32f5da590>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x32f5da590>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x32f5da5f0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x32f5da5f0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x32f660280>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x32f660280>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x32f660400>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x32f660400>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x32f660070>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x32f660070>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x32f8fa380>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x32f8fa380>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x32f8fa260>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x32f8fa260>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x32f8c2da0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x32f8c2da0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x32f946bc0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x32f946bc0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x32f8c2e30>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x32f8c2e30>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x32f946dd0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x32f946dd0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x32f946d10>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x32f946d10>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x31c9e21d0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x31c9e21d0>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x31c9e2110>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x31c9e2110>
2024-08-08 11:42:32 | WARNING | dbgpt.util._db_migration_utils | Initialize and upgrade database metadata with alembic, just run this in your development environment, if you deploy this in production environment, please run webserver with --disable_alembic_upgrade(`python dbgpt/app/dbgpt_server.py --disable_alembic_upgrade`).
we suggest you to use `dbgpt db migration` to initialize and upgrade database metadata with alembic, your can run `dbgpt db migration --help` to get more information.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:42:32 | INFO | dbgpt.util._db_migration_utils | Migration versions and their file paths:
========================================Migration versions========================================

c1c5571ff1a7 (current): New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c1c5571ff1a7_new_migration.py)
45d43403973e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/45d43403973e_new_migration.py)
256388bf19b2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/256388bf19b2_new_migration.py)
5abe01af3fb4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5abe01af3fb4_new_migration.py)
bb929bd776bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/bb929bd776bb_new_migration.py)
2412acd54f44 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2412acd54f44_new_migration.py)
315243ff05f0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/315243ff05f0_new_migration.py)
e7b5af284887 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e7b5af284887_new_migration.py)
69e556edd3d0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/69e556edd3d0_new_migration.py)
328b754cf1d6 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/328b754cf1d6_new_migration.py)
e1c9e1f89199 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e1c9e1f89199_new_migration.py)
34d5a391887a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/34d5a391887a_new_migration.py)
108b26ba5abd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/108b26ba5abd_new_migration.py)
27d02737b3e2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/27d02737b3e2_new_migration.py)
6b279d6f1476 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6b279d6f1476_new_migration.py)
5125424024bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5125424024bb_new_migration.py)
ecd042d489ac : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ecd042d489ac_new_migration.py)
e778da8eedfe : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e778da8eedfe_new_migration.py)
3391b413a9dc : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3391b413a9dc_new_migration.py)
c688ff9d8bfa : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c688ff9d8bfa_new_migration.py)
150bd201db2c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/150bd201db2c_new_migration.py)
03fb0bfb7c80 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/03fb0bfb7c80_new_migration.py)
f89c56e09c49 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f89c56e09c49_new_migration.py)
90b9e1607d2b : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/90b9e1607d2b_new_migration.py)
efd5b512d63c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/efd5b512d63c_new_migration.py)
23a5aa127af9 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/23a5aa127af9_new_migration.py)
621264f79be2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/621264f79be2_new_migration.py)
ce0ec6250d17 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ce0ec6250d17_new_migration.py)
9c33fc0c4a84 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9c33fc0c4a84_new_migration.py)
6a96874c0ad1 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6a96874c0ad1_new_migration.py)
3631f37a6ede : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3631f37a6ede_new_migration.py)
d6323dc5dcd7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6323dc5dcd7_new_migration.py)
f3fd6b330e81 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f3fd6b330e81_new_migration.py)
20f28f8c5f54 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/20f28f8c5f54_new_migration.py)
e6d632bf773c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e6d632bf773c_new_migration.py)
2b2b79837a0d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2b2b79837a0d_new_migration.py)
a78aa1af83dd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/a78aa1af83dd_new_migration.py)
1d400ea0f1e4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1d400ea0f1e4_new_migration.py)
22f111585a53 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/22f111585a53_new_migration.py)
7612ed1aa81e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/7612ed1aa81e_new_migration.py)
0707bedb3d28 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/0707bedb3d28_new_migration.py)
59cbe44e66a5 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/59cbe44e66a5_new_migration.py)
c5ccdbb1b19a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c5ccdbb1b19a_new_migration.py)
164cf5fd633d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/164cf5fd633d_new_migration.py)
9938eed5060c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9938eed5060c_new_migration.py)
9026e122f186 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9026e122f186_new_migration.py)
8e94e14a6e05 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/8e94e14a6e05_new_migration.py)
d6b8c200cc0c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6b8c200cc0c_new_migration.py)
2e7e60e5b62f : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2e7e60e5b62f_new_migration.py)
ebce9eae2f56 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ebce9eae2f56_new_migration.py)
==========================================================================================
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:42:32 | INFO | dbgpt.util._db_migration_utils | alembic migration current revision: c1c5571ff1a7, latest revision: c1c5571ff1a7
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:42:32 | INFO | alembic.runtime.migration | Running upgrade c1c5571ff1a7 -> cfb2cbe49828, New migration
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x31e30ea40>
2024-08-08 11:42:32 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x31e30ea40>
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 11:42:32 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x321629b70>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 11:42:32 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x321629b70>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 11:42:32 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 11:42:32 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 11:42:32 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 11:42:32 | INFO | dbgpt.util.dbgpts.loader | Found 0 dbgpts packages from /Users/asif/.dbgpts/packages/6374767bfc89bd86b1d7613ad92e86c9
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:42:33 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=d78b3f28-bcaa-4af7-99ce-8ce4b153ce66)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=d78b3f28-bcaa-4af7-99ce-8ce4b153ce66)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba2290>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba2290>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba2290>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=8ae4fcc5-0e45-410e-91a4-586a048d42fe)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=8ae4fcc5-0e45-410e-91a4-586a048d42fe)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba2f80>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba2f80>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba2f80>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=191b4edd-ec37-4ca7-b391-f090fe8883d0)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=191b4edd-ec37-4ca7-b391-f090fe8883d0)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba3910>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba3910>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323ba3910>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=e3415b54-d340-4613-b2c4-15662be50791)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=e3415b54-d340-4613-b2c4-15662be50791)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x323ba3eb0>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x323ba3eb0>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x323ba3eb0>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=871ad381-ac53-4eae-be07-15d6f1283c59)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=871ad381-ac53-4eae-be07-15d6f1283c59)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c209d0>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c209d0>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c209d0>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=be781ed6-1571-4bcf-9df8-0afbd4a05fca)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=be781ed6-1571-4bcf-9df8-0afbd4a05fca)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c21510>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c21510>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c21510>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=628ff727-659a-4fe5-8aef-e1c371a307a2)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=628ff727-659a-4fe5-8aef-e1c371a307a2)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c21ab0>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c21ab0>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c21ab0>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=dbe6888b-cae3-48c0-8f8d-a8ea23a268c7)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=dbe6888b-cae3-48c0-8f8d-a8ea23a268c7)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c23130>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c23130>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c23130>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=ca859420-2e42-4234-b650-ec867dc913ab)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=ca859420-2e42-4234-b650-ec867dc913ab)
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c230a0>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c230a0>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x323c230a0>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x32f5da380> to prefix path /api/v1/awel/trigger
2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x323eec310>
2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x323eec310>
2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 11:42:34 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 11:42:34 | INFO | dbgpt.model.adapter.proxy_adapter | Load model from params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================

, llm client class: <class 'dbgpt.model.proxy.llms.ollama.OllamaLLMClient'>
2024-08-08 11:42:36 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:42:36 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:42:37 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x326057100>
2024-08-08 11:42:38 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 11:42:38 | INFO | dbgpt.storage.vector_store.chroma_store | Check persist_dir: /Users/asif/Desktop/DB-GPT/pilot/data/test_profile.vectordb
2024-08-08 11:42:38 | INFO | dbgpt.rag.summary.db_summary_client | Vector store name test_profile exist
2024-08-08 11:42:38 | INFO | dbgpt.rag.summary.db_summary_client | initialize db summary profile success...
2024-08-08 11:42:38 | INFO | dbgpt.rag.summary.db_summary_client | db summary embedding success
2024-08-08 11:44:36 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 11:44:36 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 11:44:36 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 11:45:14 | ERROR | dbgpt.datasource.manages.connector_manager | clinical_trials Test connect Failure!No module named 'pymssql'
2024-08-08 11:45:14 | INFO | dbgpt.datasource.manages.connector_manager | add_db:{'db_type': 'mssql', 'db_name': 'clinical_trials', 'file_path': '', 'db_host': 'ctmatchingserver.database.windows.net', 'db_port': 1433, 'db_user': 'ctuser', 'db_pwd': 'Icubecs1', 'comment': ''}
2024-08-08 11:45:14 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x32a818880>
2024-08-08 11:49:39 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 11:49:39 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 11:49:39 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x32a80e5f0>
2024-08-08 11:49:39 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x32a80e5f0>
2024-08-08 11:49:39 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 11:49:39 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Send heartbeat func error: All connection attempts failed
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Send heartbeat func error: All connection attempts failed
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Send heartbeat func error: All connection attempts failed
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Send heartbeat func error: All connection attempts failed
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 11:49:39 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 11:51:32 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x12f448460>
2024-08-08 11:51:32 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x12f448460>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x1678456c0>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x1678456c0>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x1678eeaa0>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x1678eeaa0>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x12f1c5e40>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x12f1c5e40>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x167938070>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x167938070>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x167938f70>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x167938f70>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x165fee050>
2024-08-08 11:51:33 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x165fee050>
2024-08-08 11:51:33 | INFO | dbgpt.app.initialization.embedding_component | Register local LocalEmbeddingFactory
2024-08-08 11:51:33 | INFO | dbgpt.model.adapter.embeddings_loader | [EmbeddingsModelWorker] Parameters of device is None, use mps
2024-08-08 11:51:33 | INFO | dbgpt.app.initialization.embedding_component | 

=========================== EmbeddingModelParameters ===========================

model_name: text2vec
model_path: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
device: mps
normalize_embeddings: None
rerank: False
max_length: None

======================================================================


2024-08-08 11:51:34 | INFO | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
2024-08-08 11:51:34 | WARNING | sentence_transformers.SentenceTransformer | No sentence-transformers model found with name /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese. Creating a new one with mean pooling.
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x1678f6770>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x1678f6770>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x3177d99f0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x3177d99f0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x3177d8940>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x3177d8940>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x3177da200>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x3177da200>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x3177da350>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x3177da350>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x3177da3b0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x3177da3b0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x317860a60>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x317860a60>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x3178608e0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x3178608e0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x317860be0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x317860be0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x31797e140>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x31797e140>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x31797e020>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x31797e020>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x31793ab60>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x31793ab60>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30474a980>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30474a980>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x31793abf0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x31793abf0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30474ab90>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30474ab90>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30474aad0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30474aad0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x3049e5f90>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x3049e5f90>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x3049e5ed0>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x3049e5ed0>
2024-08-08 11:51:36 | WARNING | dbgpt.util._db_migration_utils | Initialize and upgrade database metadata with alembic, just run this in your development environment, if you deploy this in production environment, please run webserver with --disable_alembic_upgrade(`python dbgpt/app/dbgpt_server.py --disable_alembic_upgrade`).
we suggest you to use `dbgpt db migration` to initialize and upgrade database metadata with alembic, your can run `dbgpt db migration --help` to get more information.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:51:36 | INFO | dbgpt.util._db_migration_utils | Migration versions and their file paths:
========================================Migration versions========================================

cfb2cbe49828 (current): New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/cfb2cbe49828_new_migration.py)
c1c5571ff1a7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c1c5571ff1a7_new_migration.py)
45d43403973e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/45d43403973e_new_migration.py)
256388bf19b2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/256388bf19b2_new_migration.py)
5abe01af3fb4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5abe01af3fb4_new_migration.py)
bb929bd776bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/bb929bd776bb_new_migration.py)
2412acd54f44 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2412acd54f44_new_migration.py)
315243ff05f0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/315243ff05f0_new_migration.py)
e7b5af284887 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e7b5af284887_new_migration.py)
69e556edd3d0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/69e556edd3d0_new_migration.py)
328b754cf1d6 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/328b754cf1d6_new_migration.py)
e1c9e1f89199 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e1c9e1f89199_new_migration.py)
34d5a391887a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/34d5a391887a_new_migration.py)
108b26ba5abd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/108b26ba5abd_new_migration.py)
27d02737b3e2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/27d02737b3e2_new_migration.py)
6b279d6f1476 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6b279d6f1476_new_migration.py)
5125424024bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5125424024bb_new_migration.py)
ecd042d489ac : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ecd042d489ac_new_migration.py)
e778da8eedfe : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e778da8eedfe_new_migration.py)
3391b413a9dc : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3391b413a9dc_new_migration.py)
c688ff9d8bfa : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c688ff9d8bfa_new_migration.py)
150bd201db2c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/150bd201db2c_new_migration.py)
03fb0bfb7c80 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/03fb0bfb7c80_new_migration.py)
f89c56e09c49 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f89c56e09c49_new_migration.py)
90b9e1607d2b : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/90b9e1607d2b_new_migration.py)
efd5b512d63c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/efd5b512d63c_new_migration.py)
23a5aa127af9 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/23a5aa127af9_new_migration.py)
621264f79be2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/621264f79be2_new_migration.py)
ce0ec6250d17 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ce0ec6250d17_new_migration.py)
9c33fc0c4a84 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9c33fc0c4a84_new_migration.py)
6a96874c0ad1 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6a96874c0ad1_new_migration.py)
3631f37a6ede : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3631f37a6ede_new_migration.py)
d6323dc5dcd7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6323dc5dcd7_new_migration.py)
f3fd6b330e81 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f3fd6b330e81_new_migration.py)
20f28f8c5f54 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/20f28f8c5f54_new_migration.py)
e6d632bf773c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e6d632bf773c_new_migration.py)
2b2b79837a0d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2b2b79837a0d_new_migration.py)
a78aa1af83dd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/a78aa1af83dd_new_migration.py)
1d400ea0f1e4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1d400ea0f1e4_new_migration.py)
22f111585a53 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/22f111585a53_new_migration.py)
7612ed1aa81e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/7612ed1aa81e_new_migration.py)
0707bedb3d28 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/0707bedb3d28_new_migration.py)
59cbe44e66a5 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/59cbe44e66a5_new_migration.py)
c5ccdbb1b19a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c5ccdbb1b19a_new_migration.py)
164cf5fd633d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/164cf5fd633d_new_migration.py)
9938eed5060c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9938eed5060c_new_migration.py)
9026e122f186 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9026e122f186_new_migration.py)
8e94e14a6e05 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/8e94e14a6e05_new_migration.py)
d6b8c200cc0c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6b8c200cc0c_new_migration.py)
2e7e60e5b62f : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2e7e60e5b62f_new_migration.py)
ebce9eae2f56 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ebce9eae2f56_new_migration.py)
==========================================================================================
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:51:36 | INFO | dbgpt.util._db_migration_utils | alembic migration current revision: cfb2cbe49828, latest revision: cfb2cbe49828
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 11:51:36 | INFO | alembic.runtime.migration | Running upgrade cfb2cbe49828 -> 1ba0c6da71d2, New migration
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x305c88b50>
2024-08-08 11:51:36 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x305c88b50>
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 11:51:36 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x305db14e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 11:51:36 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x305db14e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 11:51:36 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 11:51:36 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 11:51:36 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 11:51:36 | INFO | dbgpt.util.dbgpts.loader | Found 0 dbgpts packages from /Users/asif/.dbgpts/packages/6374767bfc89bd86b1d7613ad92e86c9
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:51:36 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=ffe97a42-8533-4abc-8953-34d7b37ac1a8)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=ffe97a42-8533-4abc-8953-34d7b37ac1a8)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8a050>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8a050>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8a050>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=f5e09a36-652e-4adf-81ab-a1dbf7f8f30c)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=f5e09a36-652e-4adf-81ab-a1dbf7f8f30c)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8ad40>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8ad40>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8ad40>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=15bfec2d-0850-4fbb-bb43-93b07af34765)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=15bfec2d-0850-4fbb-bb43-93b07af34765)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8b6d0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8b6d0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30bc8b6d0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=cf58425e-b052-4767-880b-1494b09c48f5)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=cf58425e-b052-4767-880b-1494b09c48f5)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30bc8bd90>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30bc8bd90>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30bc8bd90>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=e90dbb3d-49a4-4259-b7f5-e630ed78f5ca)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=e90dbb3d-49a4-4259-b7f5-e630ed78f5ca)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be108b0>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be108b0>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be108b0>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4fbf42ff-cc7a-4a38-ae77-d639e4585c27)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4fbf42ff-cc7a-4a38-ae77-d639e4585c27)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be11240>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be11240>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be11240>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=e8b0704b-57d2-4456-8381-c7568079f5ac)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=e8b0704b-57d2-4456-8381-c7568079f5ac)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be11a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be11a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be11a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4aed7fc8-5f84-475c-a123-f9860464aa67)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4aed7fc8-5f84-475c-a123-f9860464aa67)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be13010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be13010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be13010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=f55ba322-ff5d-4d6c-87e5-6225533d5075)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=f55ba322-ff5d-4d6c-87e5-6225533d5075)
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be12950>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be12950>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30be12950>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x3177da140> to prefix path /api/v1/awel/trigger
2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x30bfe80d0>
2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x30bfe80d0>
2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 11:51:37 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 11:51:37 | INFO | dbgpt.model.adapter.proxy_adapter | Load model from params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================

, llm client class: <class 'dbgpt.model.proxy.llms.ollama.OllamaLLMClient'>
2024-08-08 11:51:39 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:51:39 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:51:41 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:51:41 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:51:41 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:51:41 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 11:51:41 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30e1531c0>
2024-08-08 11:51:41 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 11:51:41 | INFO | dbgpt.storage.vector_store.chroma_store | Check persist_dir: /Users/asif/Desktop/DB-GPT/pilot/data/test_profile.vectordb
2024-08-08 11:51:41 | INFO | dbgpt.rag.summary.db_summary_client | Vector store name test_profile exist
2024-08-08 11:51:41 | INFO | dbgpt.rag.summary.db_summary_client | initialize db summary profile success...
2024-08-08 11:51:41 | INFO | dbgpt.rag.summary.db_summary_client | db summary embedding success
2024-08-08 11:51:41 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30e1d2d40>
2024-08-08 11:52:12 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 11:52:13 | INFO | dbgpt.storage.vector_store.chroma_store | Check persist_dir: /Users/asif/Desktop/DB-GPT/pilot/data/clinical_trials_profile.vectordb
2024-08-08 11:52:13 | INFO | dbgpt.rag.summary.db_summary_client | delete db profile clinical_trials success
2024-08-08 11:52:13 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30bfcab00>
2024-08-08 11:52:24 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-08 11:52:24 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='9082aa8a-554e-11ef-b2fc-0a065cd3fd91' user_input='Hi' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 11:52:24 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x316fba3e0>
2024-08-08 11:52:46 | WARNING | dbgpt.rag.summary.db_summary_client | clinical_trials, mssql summary error!(pymssql.exceptions.ProgrammingError) (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")
[SQL: SHOW GRANTS]
(Background on this error at: https://sqlalche.me/e/20/f405), detail: Traceback (most recent call last):
  File "src/pymssql/_pymssql.pyx", line 447, in pymssql._pymssql.Cursor.execute
  File "src/pymssql/_mssql.pyx", line 1125, in pymssql._mssql.MSSQLConnection.execute_query
  File "src/pymssql/_mssql.pyx", line 1156, in pymssql._mssql.MSSQLConnection.execute_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1970, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "src/pymssql/_pymssql.pyx", line 462, in pymssql._pymssql.Cursor.execute
pymssql.exceptions.ProgrammingError: (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 75, in init_db_summary
    self.db_summary_embedding(item["db_name"], item["db_type"])
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 43, in db_summary_embedding
    db_summary_client = self.create_summary_client(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 141, in create_summary_client
    return RdbmsSummary(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/rdbms_db_summary.py", line 43, in __init__
    grant=self.db.get_grants(),
  File "/Users/asif/Desktop/DB-GPT/dbgpt/datasource/rdbms/base.py", line 569, in get_grants
    cursor = session.execute(text("SHOW GRANTS"))
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2306, in execute
    return self._execute_internal(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2200, in _execute_internal
    result = conn.execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1421, in execute
    return meth(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1643, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1849, in _execute_context
    return self._exec_single_context(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1989, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2356, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1970, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "src/pymssql/_pymssql.pyx", line 462, in pymssql._pymssql.Cursor.execute
sqlalchemy.exc.ProgrammingError: (pymssql.exceptions.ProgrammingError) (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")
[SQL: SHOW GRANTS]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-08-08 11:53:15 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 11:53:15 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: a813b253-6002-470c-9e59-e1a139a3ede7, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: a813b253-6002-470c-9e59-e1a139a3ede7, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: a813b253-6002-470c-9e59-e1a139a3ede7, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 5c694294-9069-4726-b65a-02987736603f, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 5c694294-9069-4726-b65a-02987736603f, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 5c694294-9069-4726-b65a-02987736603f, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     clinical_trials\nTable structure definition:\n     [\'claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct mssql sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    Hi\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='Hi', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='f924ae1bc432c14b73d9b0e35560e2fb:d5c3b07294daf394', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='f924ae1bc432c14b73d9b0e35560e2fb:d5c3b07294daf394', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: eb336c79-0afe-4cff-af4e-3264c4a0f480, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: eb336c79-0afe-4cff-af4e-3264c4a0f480, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: eb336c79-0afe-4cff-af4e-3264c4a0f480, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id ede4e3c0-7626-4c90-9a48-61b19fe9d308
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id ede4e3c0-7626-4c90-9a48-61b19fe9d308
2024-08-08 11:53:21 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id ede4e3c0-7626-4c90-9a48-61b19fe9d308
2024-08-08 11:53:21 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:53:21 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:53:26 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 11:53:26 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 11:53:26 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 11:53:43 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:53:43 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:54:19 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-08 11:54:19 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='c23c5864-554e-11ef-b2fc-0a065cd3fd91' user_input='what are table in the database' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 11:54:19 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x31702c040>
2024-08-08 11:55:15 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 11:55:15 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: cd12f55f-d7c8-4aaf-a19d-fccce301b2ef, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: cd12f55f-d7c8-4aaf-a19d-fccce301b2ef, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: cd12f55f-d7c8-4aaf-a19d-fccce301b2ef, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 601e4d42-9be5-4831-9356-8861a2ce400b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 601e4d42-9be5-4831-9356-8861a2ce400b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 601e4d42-9be5-4831-9356-8861a2ce400b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     clinical_trials\nTable structure definition:\n     [\'claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct mssql sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    what are table in the database\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='what are table in the database', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='3b5226ecd2c66c1f9a985b18d95a9fd2:adb158850d874d9e', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='3b5226ecd2c66c1f9a985b18d95a9fd2:adb158850d874d9e', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: f079329e-5588-49d0-871a-200240118b2c, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: f079329e-5588-49d0-871a-200240118b2c, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: f079329e-5588-49d0-871a-200240118b2c, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id ff625411-8962-4a4b-8b1c-d9c9c92e99a9
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id ff625411-8962-4a4b-8b1c-d9c9c92e99a9
2024-08-08 11:55:23 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id ff625411-8962-4a4b-8b1c-d9c9c92e99a9
2024-08-08 11:55:23 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:55:23 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:55:31 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:55:31 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:55:34 | INFO | dbgpt.core.interface.output_parser | illegal json processing:
"{\n    \"thoughts\": \"I've listed all the tables present in the clinical_trials database.\",\n    \"sql\": \"SELECT name FROM sys.tables\",\n    \"display_type\": \"response_table\"\n}"
2024-08-08 11:55:34 | INFO | dbgpt.core.interface.output_parser | illegal json processing:
"{\n    \"thoughts\": \"I've listed all the tables present in the clinical_trials database.\",\n    \"sql\": \"SELECT name FROM sys.tables\",\n    \"display_type\": \"response_table\"\n}"
2024-08-08 11:55:34 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {      "thoughts ":  "I've listed all the tables present in the clinical_trials database. ",      "sql ":  "SELECT name FROM sys.tables ",      "display_type ":  "response_table " }
2024-08-08 11:55:34 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT name FROM sys.tables 
2024-08-08 11:55:34 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT name FROM sys.tables, ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-08 11:55:34 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT name FROM sys.tables ]
2024-08-08 11:56:54 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 11:56:54 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 11:56:54 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 11:57:28 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,test,ollama_proxyllm
2024-08-08 11:57:28 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='c23c5864-554e-11ef-b2fc-0a065cd3fd91' user_input='How many unique patients are present in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='test' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 11:57:28 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x321020d00>
2024-08-08 11:57:29 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 11:57:29 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 87623c73-effe-4088-9523-dcf06a2e9902, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 87623c73-effe-4088-9523-dcf06a2e9902, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 87623c73-effe-4088-9523-dcf06a2e9902, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e012b181-518c-4aea-92d9-db812df0c12c, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e012b181-518c-4aea-92d9-db812df0c12c, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e012b181-518c-4aea-92d9-db812df0c12c, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     test\nTable structure definition:\n     [\'immunizations(DATE, PATIENT, ENCOUNTER, CODE, DESCRIPTION, BASE_COST)\', \'imaging_studies(Id, DATE, PATIENT, ENCOUNTER, SERIES_UID, BODYSITE_CODE, BODYSITE_DESCRIPTION, MODALITY_CODE, MODALITY_DESCRIPTION, INSTANCE_UID, SOP_CODE, SOP_DESCRIPTION, PROCEDURE_CODE)\', \'observations(DATE, PATIENT, ENCOUNTER, CATEGORY, CODE, DESCRIPTION, VALUE, UNITS, TYPE)\', \'encounters(Id, START, STOP, PATIENT, ORGANIZATION, PROVIDER, PAYER, ENCOUNTERCLASS, CODE, DESCRIPTION, BASE_ENCOUNTER_COST, TOTAL_CLAIM_COST, PAYER_COVERAGE, REASONCODE, REASONDESCRIPTION), and index keys: sqlite_autoindex_encounters_1(`Id`) \', \'supplies(DATE, PATIENT, ENCOUNTER, CODE, DESCRIPTION, QUANTITY)\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct sqlite sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    How many unique patients are present in the database?\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='How many unique patients are present in the database?', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='58bad95b98e8c9f8dc4b696bd1207577:84dea38b012577af', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='58bad95b98e8c9f8dc4b696bd1207577:84dea38b012577af', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 987d0611-e6b5-4f08-8b31-fbf175ee633b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 987d0611-e6b5-4f08-8b31-fbf175ee633b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 987d0611-e6b5-4f08-8b31-fbf175ee633b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id e5a1c4af-e9f0-4704-b5d6-cd229de7739d
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id e5a1c4af-e9f0-4704-b5d6-cd229de7739d
2024-08-08 11:57:31 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id e5a1c4af-e9f0-4704-b5d6-cd229de7739d
2024-08-08 11:57:31 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:57:31 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:57:43 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:57:43 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:57:47 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {     "thoughts": "To find the number of unique patients, we need to query the 'encounters' table for distinct patient IDs.",     "sql": "SELECT COUNT(DISTINCT PATIENT) FROM encounters",     "display_type": "response_table" }
2024-08-08 11:57:47 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT PATIENT) FROM encounters
2024-08-08 11:57:47 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT PATIENT) FROM encounters, ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-08 11:57:47 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT COUNT(DISTINCT PATIENT) FROM encounters]
2024-08-08 11:58:25 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-08 11:58:25 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='63a05584-554f-11ef-b2fc-0a065cd3fd91' user_input='what are tables in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 11:58:25 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30e152b00>
2024-08-08 11:59:26 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 11:59:26 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 0057ef1b-efb1-429c-934f-aefb8c339f05, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 0057ef1b-efb1-429c-934f-aefb8c339f05, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 0057ef1b-efb1-429c-934f-aefb8c339f05, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 16366b3f-4caa-4b11-9a2c-d5397229e5c2, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 16366b3f-4caa-4b11-9a2c-d5397229e5c2, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 16366b3f-4caa-4b11-9a2c-d5397229e5c2, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     clinical_trials\nTable structure definition:\n     [\'claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct mssql sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    what are tables in the database?\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='what are tables in the database?', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='f5ad987255a79a7a98cbc9f8d9569535:f0147db07dcfddd4', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='f5ad987255a79a7a98cbc9f8d9569535:f0147db07dcfddd4', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 185fde9e-1573-4c3e-b2f8-dcc16382472b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 185fde9e-1573-4c3e-b2f8-dcc16382472b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 185fde9e-1573-4c3e-b2f8-dcc16382472b, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id f3b1d214-ff8c-48ba-b39e-53045db5eb59
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id f3b1d214-ff8c-48ba-b39e-53045db5eb59
2024-08-08 11:59:34 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id f3b1d214-ff8c-48ba-b39e-53045db5eb59
2024-08-08 11:59:34 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:59:34 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 11:59:47 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:59:47 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 11:59:51 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {     "thoughts": "I understand you're asking for a list of tables present in the 'clinical_trials' database. Based on the provided table structure information, I will compile a SQL query to retrieve this list.",     "sql": "SELECT name FROM sys.tables",     "display_type": "response_table" }
2024-08-08 11:59:52 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT name FROM sys.tables
2024-08-08 11:59:52 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT name FROM sys.tables, ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-08 11:59:52 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT name FROM sys.tables]
2024-08-08 12:00:19 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:00:19 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:00:19 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:00:49 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,test,ollama_proxyllm
2024-08-08 12:00:49 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='63a05584-554f-11ef-b2fc-0a065cd3fd91' user_input='How many unique patients are present in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='test' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 12:00:49 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x321020700>
2024-08-08 12:00:49 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:00:49 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: a1a1dcf2-ef87-4868-a2b2-6e8266b5c45a, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: a1a1dcf2-ef87-4868-a2b2-6e8266b5c45a, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: a1a1dcf2-ef87-4868-a2b2-6e8266b5c45a, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 6dbb05a5-d443-4085-9394-d6bd30b32fc5, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 6dbb05a5-d443-4085-9394-d6bd30b32fc5, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 6dbb05a5-d443-4085-9394-d6bd30b32fc5, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     test\nTable structure definition:\n     [\'immunizations(DATE, PATIENT, ENCOUNTER, CODE, DESCRIPTION, BASE_COST)\', \'imaging_studies(Id, DATE, PATIENT, ENCOUNTER, SERIES_UID, BODYSITE_CODE, BODYSITE_DESCRIPTION, MODALITY_CODE, MODALITY_DESCRIPTION, INSTANCE_UID, SOP_CODE, SOP_DESCRIPTION, PROCEDURE_CODE)\', \'observations(DATE, PATIENT, ENCOUNTER, CATEGORY, CODE, DESCRIPTION, VALUE, UNITS, TYPE)\', \'encounters(Id, START, STOP, PATIENT, ORGANIZATION, PROVIDER, PAYER, ENCOUNTERCLASS, CODE, DESCRIPTION, BASE_ENCOUNTER_COST, TOTAL_CLAIM_COST, PAYER_COVERAGE, REASONCODE, REASONDESCRIPTION), and index keys: sqlite_autoindex_encounters_1(`Id`) \', \'supplies(DATE, PATIENT, ENCOUNTER, CODE, DESCRIPTION, QUANTITY)\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct sqlite sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    How many unique patients are present in the database?\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='How many unique patients are present in the database?', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='26c048f1ad5e683a214df27b2b540321:a57d73e6aa342aa9', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='26c048f1ad5e683a214df27b2b540321:a57d73e6aa342aa9', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 01ddee79-1a4d-4d3f-b604-a2ea2a914e3d, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 01ddee79-1a4d-4d3f-b604-a2ea2a914e3d, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 01ddee79-1a4d-4d3f-b604-a2ea2a914e3d, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x3177da230>
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 20db47dc-5fcb-4850-a325-0f12e298ed1c
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 20db47dc-5fcb-4850-a325-0f12e298ed1c
2024-08-08 12:00:52 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 20db47dc-5fcb-4850-a325-0f12e298ed1c
2024-08-08 12:00:52 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:00:52 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:01:02 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:01:02 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:01:09 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {     "thoughts": "We need to count the distinct values in the 'PATIENT' column from all tables since there is no direct reference table for patients. We can use the UNION operator to combine data from different tables and then count the unique patients.",     "sql": "SELECT COUNT(DISTINCT PATIENT) FROM ( SELECT PATIENT FROM immunizations UNION ALL SELECT PATIENT FROM imaging_studies UNION ALL SELECT PATIENT FROM observations UNION ALL SELECT PATIENT FROM encounters )",     "display_type": "response_table" }
2024-08-08 12:01:09 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT PATIENT) FROM ( SELECT PATIENT FROM immunizations UNION ALL SELECT PATIENT FROM imaging_studies UNION ALL SELECT PATIENT FROM observations UNION ALL SELECT PATIENT FROM encounters )
2024-08-08 12:01:09 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT PATIENT) FROM ( SELECT PATIENT FROM immunizations UNION ALL SELECT PATIENT FROM imaging_studies UNION ALL SELECT PATIENT FROM observations UNION ALL SELECT PATIENT FROM encounters ), ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-08 12:01:09 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT COUNT(DISTINCT PATIENT) FROM ( SELECT PATIENT FROM immunizations UNION ALL SELECT PATIENT FROM imaging_studies UNION ALL SELECT PATIENT FROM observations UNION ALL SELECT PATIENT FROM encounters )]
2024-08-08 12:02:04 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-08 12:02:04 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='63a05584-554f-11ef-b2fc-0a065cd3fd91' user_input='How many unique patients are present in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 12:02:04 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30bca9f00>
2024-08-08 12:02:45 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:02:45 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:02:45 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:02:58 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:02:58 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 12:03:10 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:03:10 | INFO | dbgpt.storage.vector_store.chroma_store | Check persist_dir: /Users/asif/Desktop/DB-GPT/pilot/data/test_profile.vectordb
2024-08-08 12:03:10 | INFO | dbgpt.storage.vector_store.chroma_store | chroma vector_name:test_profile begin delete...
2024-08-08 12:03:10 | INFO | dbgpt.rag.summary.db_summary_client | delete db profile test success
2024-08-08 12:03:14 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:03:14 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:03:14 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:03:31 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 12:03:31 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 12:03:31 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x32102fb50>
2024-08-08 12:03:31 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x32102fb50>
2024-08-08 12:03:31 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:03:31 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:03:31 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:03:31 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:03:32 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:03:32 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:03:40 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x137d48460>
2024-08-08 12:03:40 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x137d48460>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x172545720>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x172545720>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x1725eeb00>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x1725eeb00>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x1379c5e40>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x1379c5e40>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x1727380d0>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x1727380d0>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x172738fd0>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x172738fd0>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x16c2960b0>
2024-08-08 12:03:41 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x16c2960b0>
2024-08-08 12:03:41 | INFO | dbgpt.app.initialization.embedding_component | Register local LocalEmbeddingFactory
2024-08-08 12:03:41 | INFO | dbgpt.model.adapter.embeddings_loader | [EmbeddingsModelWorker] Parameters of device is None, use mps
2024-08-08 12:03:41 | INFO | dbgpt.app.initialization.embedding_component | 

=========================== EmbeddingModelParameters ===========================

model_name: text2vec
model_path: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
device: mps
normalize_embeddings: None
rerank: False
max_length: None

======================================================================


2024-08-08 12:03:42 | INFO | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
2024-08-08 12:03:42 | WARNING | sentence_transformers.SentenceTransformer | No sentence-transformers model found with name /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese. Creating a new one with mean pooling.
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x1725f67d0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x1725f67d0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x31f651a50>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x31f651a50>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x31f6509a0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x31f6509a0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x31f652260>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x31f652260>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x31f6523b0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x31f6523b0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x31f652410>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x31f652410>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x31f6c41f0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x31f6c41f0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x31f6c44f0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x31f6c44f0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x31f6c4070>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x31f6c4070>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x31f7f21a0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x31f7f21a0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x31f7f2080>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x31f7f2080>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x31f7c2bc0>
2024-08-08 12:03:45 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x31f7c2bc0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x3058469e0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x3058469e0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x31f7c2c50>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x31f7c2c50>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x305846bf0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x305846bf0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x305846b30>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x305846b30>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x3059ddff0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x3059ddff0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x3059ddf30>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x3059ddf30>
2024-08-08 12:03:46 | WARNING | dbgpt.util._db_migration_utils | Initialize and upgrade database metadata with alembic, just run this in your development environment, if you deploy this in production environment, please run webserver with --disable_alembic_upgrade(`python dbgpt/app/dbgpt_server.py --disable_alembic_upgrade`).
we suggest you to use `dbgpt db migration` to initialize and upgrade database metadata with alembic, your can run `dbgpt db migration --help` to get more information.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:03:46 | INFO | dbgpt.util._db_migration_utils | Migration versions and their file paths:
========================================Migration versions========================================

1ba0c6da71d2 (current): New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1ba0c6da71d2_new_migration.py)
cfb2cbe49828 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/cfb2cbe49828_new_migration.py)
c1c5571ff1a7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c1c5571ff1a7_new_migration.py)
45d43403973e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/45d43403973e_new_migration.py)
256388bf19b2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/256388bf19b2_new_migration.py)
5abe01af3fb4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5abe01af3fb4_new_migration.py)
bb929bd776bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/bb929bd776bb_new_migration.py)
2412acd54f44 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2412acd54f44_new_migration.py)
315243ff05f0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/315243ff05f0_new_migration.py)
e7b5af284887 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e7b5af284887_new_migration.py)
69e556edd3d0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/69e556edd3d0_new_migration.py)
328b754cf1d6 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/328b754cf1d6_new_migration.py)
e1c9e1f89199 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e1c9e1f89199_new_migration.py)
34d5a391887a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/34d5a391887a_new_migration.py)
108b26ba5abd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/108b26ba5abd_new_migration.py)
27d02737b3e2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/27d02737b3e2_new_migration.py)
6b279d6f1476 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6b279d6f1476_new_migration.py)
5125424024bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5125424024bb_new_migration.py)
ecd042d489ac : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ecd042d489ac_new_migration.py)
e778da8eedfe : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e778da8eedfe_new_migration.py)
3391b413a9dc : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3391b413a9dc_new_migration.py)
c688ff9d8bfa : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c688ff9d8bfa_new_migration.py)
150bd201db2c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/150bd201db2c_new_migration.py)
03fb0bfb7c80 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/03fb0bfb7c80_new_migration.py)
f89c56e09c49 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f89c56e09c49_new_migration.py)
90b9e1607d2b : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/90b9e1607d2b_new_migration.py)
efd5b512d63c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/efd5b512d63c_new_migration.py)
23a5aa127af9 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/23a5aa127af9_new_migration.py)
621264f79be2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/621264f79be2_new_migration.py)
ce0ec6250d17 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ce0ec6250d17_new_migration.py)
9c33fc0c4a84 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9c33fc0c4a84_new_migration.py)
6a96874c0ad1 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6a96874c0ad1_new_migration.py)
3631f37a6ede : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3631f37a6ede_new_migration.py)
d6323dc5dcd7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6323dc5dcd7_new_migration.py)
f3fd6b330e81 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f3fd6b330e81_new_migration.py)
20f28f8c5f54 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/20f28f8c5f54_new_migration.py)
e6d632bf773c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e6d632bf773c_new_migration.py)
2b2b79837a0d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2b2b79837a0d_new_migration.py)
a78aa1af83dd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/a78aa1af83dd_new_migration.py)
1d400ea0f1e4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1d400ea0f1e4_new_migration.py)
22f111585a53 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/22f111585a53_new_migration.py)
7612ed1aa81e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/7612ed1aa81e_new_migration.py)
0707bedb3d28 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/0707bedb3d28_new_migration.py)
59cbe44e66a5 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/59cbe44e66a5_new_migration.py)
c5ccdbb1b19a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c5ccdbb1b19a_new_migration.py)
164cf5fd633d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/164cf5fd633d_new_migration.py)
9938eed5060c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9938eed5060c_new_migration.py)
9026e122f186 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9026e122f186_new_migration.py)
8e94e14a6e05 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/8e94e14a6e05_new_migration.py)
d6b8c200cc0c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6b8c200cc0c_new_migration.py)
2e7e60e5b62f : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2e7e60e5b62f_new_migration.py)
ebce9eae2f56 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ebce9eae2f56_new_migration.py)
==========================================================================================
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:03:46 | INFO | dbgpt.util._db_migration_utils | alembic migration current revision: 1ba0c6da71d2, latest revision: 1ba0c6da71d2
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:03:46 | INFO | alembic.runtime.migration | Running upgrade 1ba0c6da71d2 -> 5a0b94937f2a, New migration
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x306d06aa0>
2024-08-08 12:03:46 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x306d06aa0>
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 12:03:46 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 12:03:46 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 12:03:46 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 12:03:46 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x306d06680>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 12:03:46 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x306d06680>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 12:03:46 | INFO | dbgpt.util.dbgpts.loader | Found 0 dbgpts packages from /Users/asif/.dbgpts/packages/6374767bfc89bd86b1d7613ad92e86c9
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:03:46 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=09e10280-8ea6-49e5-a07e-f7ce3c5fface)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=09e10280-8ea6-49e5-a07e-f7ce3c5fface)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc92200>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc92200>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc92200>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=07aa3010-6035-4db3-bedf-f1e1640f44c5)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=07aa3010-6035-4db3-bedf-f1e1640f44c5)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc92ef0>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc92ef0>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc92ef0>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=c6a0863c-161f-4baa-80b4-cbf27150e7c7)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=c6a0863c-161f-4baa-80b4-cbf27150e7c7)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc93880>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc93880>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cc93880>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7927f065-0110-4050-92b2-64b268326c40)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7927f065-0110-4050-92b2-64b268326c40)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30cc93d00>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30cc93d00>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30cc93d00>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=8bedbae0-bfb5-40bc-b442-31cc647132f7)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=8bedbae0-bfb5-40bc-b442-31cc647132f7)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd18820>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd18820>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd18820>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=cad19d55-3db7-47a6-97ba-e7d4e7236994)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=cad19d55-3db7-47a6-97ba-e7d4e7236994)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd19480>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd19480>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd19480>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=31d38902-1774-49fb-8964-ed0ae11a838e)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=31d38902-1774-49fb-8964-ed0ae11a838e)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd19a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd19a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd19a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7ed0b0d6-9094-4a13-88a4-93fd937767f1)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7ed0b0d6-9094-4a13-88a4-93fd937767f1)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd1b0a0>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd1b0a0>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd1b0a0>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=9d58fa21-e705-441f-a384-e37b59abf877)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=9d58fa21-e705-441f-a384-e37b59abf877)
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd1ad40>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd1ad40>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30cd1ad40>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x31f6521a0> to prefix path /api/v1/awel/trigger
2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x30cee4280>
2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x30cee4280>
2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 12:03:47 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 12:03:47 | INFO | dbgpt.model.adapter.proxy_adapter | Load model from params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================

, llm client class: <class 'dbgpt.model.proxy.llms.ollama.OllamaLLMClient'>
2024-08-08 12:03:49 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:03:49 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:03:51 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:03:51 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:03:51 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:03:51 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:03:51 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30f0575e0>
2024-08-08 12:04:07 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-08 12:04:07 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='180a8ca6-5550-11ef-b2fc-0a065cd3fd91' user_input='what are tables in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 12:04:07 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30f056e00>
2024-08-08 12:04:44 | WARNING | dbgpt.rag.summary.db_summary_client | clinical_trials, mssql summary error!(pymssql.exceptions.ProgrammingError) (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")
[SQL: SHOW GRANTS]
(Background on this error at: https://sqlalche.me/e/20/f405), detail: Traceback (most recent call last):
  File "src/pymssql/_pymssql.pyx", line 447, in pymssql._pymssql.Cursor.execute
  File "src/pymssql/_mssql.pyx", line 1125, in pymssql._mssql.MSSQLConnection.execute_query
  File "src/pymssql/_mssql.pyx", line 1156, in pymssql._mssql.MSSQLConnection.execute_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1970, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "src/pymssql/_pymssql.pyx", line 462, in pymssql._pymssql.Cursor.execute
pymssql.exceptions.ProgrammingError: (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 75, in init_db_summary
    self.db_summary_embedding(item["db_name"], item["db_type"])
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 43, in db_summary_embedding
    db_summary_client = self.create_summary_client(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 141, in create_summary_client
    return RdbmsSummary(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/rdbms_db_summary.py", line 43, in __init__
    grant=self.db.get_grants(),
  File "/Users/asif/Desktop/DB-GPT/dbgpt/datasource/rdbms/base.py", line 569, in get_grants
    cursor = session.execute(text("SHOW GRANTS"))
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2306, in execute
    return self._execute_internal(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2200, in _execute_internal
    result = conn.execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1421, in execute
    return meth(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1643, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1849, in _execute_context
    return self._exec_single_context(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1989, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2356, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1970, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "src/pymssql/_pymssql.pyx", line 462, in pymssql._pymssql.Cursor.execute
sqlalchemy.exc.ProgrammingError: (pymssql.exceptions.ProgrammingError) (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")
[SQL: SHOW GRANTS]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-08-08 12:05:01 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:05:01 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 9406cc2c-fa21-4eef-a9fd-f1c7c6bfa983, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 9406cc2c-fa21-4eef-a9fd-f1c7c6bfa983, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 9406cc2c-fa21-4eef-a9fd-f1c7c6bfa983, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e129a0cd-d8f4-4ed6-b1a5-c49333d6262f, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e129a0cd-d8f4-4ed6-b1a5-c49333d6262f, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e129a0cd-d8f4-4ed6-b1a5-c49333d6262f, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     clinical_trials\nTable structure definition:\n     [\'claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct mssql sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    what are tables in the database?\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='what are tables in the database?', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='aeed85b4f5ce3cbce87c1e198d5f178c:c3b219cde3150236', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='aeed85b4f5ce3cbce87c1e198d5f178c:c3b219cde3150236', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d7caf356-d9af-4cb3-88b6-5f3da8ea6624, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d7caf356-d9af-4cb3-88b6-5f3da8ea6624, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d7caf356-d9af-4cb3-88b6-5f3da8ea6624, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x31f652290>
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 11938573-a270-439f-a2e8-645a974ccd76
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 11938573-a270-439f-a2e8-645a974ccd76
2024-08-08 12:05:08 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 11938573-a270-439f-a2e8-645a974ccd76
2024-08-08 12:05:08 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:05:08 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:05:16 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:05:16 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:05:21 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {     "thoughts": "I understand that you want to know the list of tables available in the clinical_trials database. Based on the provided table structure definition, I will generate a SQL query to fetch this information.",     "sql": "SELECT name FROM sys.tables",     "display_type": "response_table" }
2024-08-08 12:05:21 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT name FROM sys.tables
2024-08-08 12:05:21 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT name FROM sys.tables, ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-08 12:05:21 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT name FROM sys.tables]
2024-08-08 12:05:49 | INFO | dbgpt.app.openapi.api_v1.editor.api_editor_v1 | get_editor_sql_rounds:180a8ca6-5550-11ef-b2fc-0a065cd3fd91
2024-08-08 12:05:49 | INFO | dbgpt.app.openapi.api_v1.editor.api_editor_v1 | get_editor_tables:clinical_trials,1,200,
2024-08-08 12:05:49 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x321461000>
2024-08-08 12:06:01 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 12:06:01 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 12:06:16 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 12:06:16 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 12:06:31 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 12:06:31 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 12:06:45 | INFO | dbgpt.app.openapi.api_v1.editor.api_editor_v1 | get_editor_sql:180a8ca6-5550-11ef-b2fc-0a065cd3fd91,1
2024-08-08 12:06:45 | INFO | dbgpt.app.openapi.api_v1.editor.service | history ai json resp: ```json
{
    "thoughts": "I understand that you want to know the list of tables available in the clinical_trials database. Based on the provided table structure definition, I will generate a SQL query to fetch this information.",
    "sql": "SELECT name FROM sys.tables",
    "display_type": "response_table"
}
```
2024-08-08 12:06:45 | INFO | dbgpt.app.openapi.api_v1.editor.api_editor_v1 | editor_sql_run:{'db_name': 'clinical_trials'}
2024-08-08 12:06:45 | ERROR | dbgpt.serve.core.schemas | common_exception_handler catch Exception: success=False err_code='E0003' err_msg="'sql'" data=None
2024-08-08 12:06:45 | ERROR | dbgpt.serve.core.schemas | common_exception_handler catch Exception: success=False err_code='E0003' err_msg="'sql'" data=None
2024-08-08 12:06:45 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:06:45 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:06:45 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:06:56 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 12:06:56 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 12:06:56 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x30f450dc0>
2024-08-08 12:06:56 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x30f450dc0>
2024-08-08 12:06:56 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:06:56 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:06:56 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:06:56 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:06:57 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:06:57 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 12:07:03 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x141e48460>
2024-08-08 12:07:03 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x141e48460>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x172d45900>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x172d45900>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x172dec310>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x172dec310>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x141bc5e40>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x141bc5e40>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x172df7ca0>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x172df7ca0>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x172f38e80>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x172f38e80>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x171cf5f60>
2024-08-08 12:07:04 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x171cf5f60>
2024-08-08 12:07:04 | INFO | dbgpt.app.initialization.embedding_component | Register local LocalEmbeddingFactory
2024-08-08 12:07:04 | INFO | dbgpt.model.adapter.embeddings_loader | [EmbeddingsModelWorker] Parameters of device is None, use mps
2024-08-08 12:07:04 | INFO | dbgpt.app.initialization.embedding_component | 

=========================== EmbeddingModelParameters ===========================

model_name: text2vec
model_path: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
device: mps
normalize_embeddings: None
rerank: False
max_length: None

======================================================================


2024-08-08 12:07:05 | INFO | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
2024-08-08 12:07:05 | WARNING | sentence_transformers.SentenceTransformer | No sentence-transformers model found with name /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese. Creating a new one with mean pooling.
2024-08-08 12:07:07 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x172df6680>
2024-08-08 12:07:07 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x172df6680>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x30c555900>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x30c555900>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x30c554850>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x30c554850>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x30c556110>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x30c556110>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x30c556260>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x30c556260>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x30c5562c0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x30c5562c0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x30c5c4370>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x30c5c4370>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x30c5c44f0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x30c5c44f0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x30c5c4070>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x30c5c4070>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x30c6e2080>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x30c6e2080>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x30c6e1fc0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x30c6e1fc0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x30c6aea70>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x30c6aea70>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30d34a890>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30d34a890>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x30c6aeb00>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x30c6aeb00>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30d34aaa0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30d34aaa0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30d34a9e0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30d34a9e0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x30d5e9ea0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x30d5e9ea0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x30d5e9de0>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x30d5e9de0>
2024-08-08 12:07:08 | WARNING | dbgpt.util._db_migration_utils | Initialize and upgrade database metadata with alembic, just run this in your development environment, if you deploy this in production environment, please run webserver with --disable_alembic_upgrade(`python dbgpt/app/dbgpt_server.py --disable_alembic_upgrade`).
we suggest you to use `dbgpt db migration` to initialize and upgrade database metadata with alembic, your can run `dbgpt db migration --help` to get more information.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:07:08 | INFO | dbgpt.util._db_migration_utils | Migration versions and their file paths:
========================================Migration versions========================================

5a0b94937f2a (current): New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5a0b94937f2a_new_migration.py)
1ba0c6da71d2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1ba0c6da71d2_new_migration.py)
cfb2cbe49828 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/cfb2cbe49828_new_migration.py)
c1c5571ff1a7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c1c5571ff1a7_new_migration.py)
45d43403973e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/45d43403973e_new_migration.py)
256388bf19b2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/256388bf19b2_new_migration.py)
5abe01af3fb4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5abe01af3fb4_new_migration.py)
bb929bd776bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/bb929bd776bb_new_migration.py)
2412acd54f44 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2412acd54f44_new_migration.py)
315243ff05f0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/315243ff05f0_new_migration.py)
e7b5af284887 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e7b5af284887_new_migration.py)
69e556edd3d0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/69e556edd3d0_new_migration.py)
328b754cf1d6 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/328b754cf1d6_new_migration.py)
e1c9e1f89199 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e1c9e1f89199_new_migration.py)
34d5a391887a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/34d5a391887a_new_migration.py)
108b26ba5abd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/108b26ba5abd_new_migration.py)
27d02737b3e2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/27d02737b3e2_new_migration.py)
6b279d6f1476 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6b279d6f1476_new_migration.py)
5125424024bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5125424024bb_new_migration.py)
ecd042d489ac : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ecd042d489ac_new_migration.py)
e778da8eedfe : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e778da8eedfe_new_migration.py)
3391b413a9dc : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3391b413a9dc_new_migration.py)
c688ff9d8bfa : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c688ff9d8bfa_new_migration.py)
150bd201db2c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/150bd201db2c_new_migration.py)
03fb0bfb7c80 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/03fb0bfb7c80_new_migration.py)
f89c56e09c49 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f89c56e09c49_new_migration.py)
90b9e1607d2b : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/90b9e1607d2b_new_migration.py)
efd5b512d63c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/efd5b512d63c_new_migration.py)
23a5aa127af9 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/23a5aa127af9_new_migration.py)
621264f79be2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/621264f79be2_new_migration.py)
ce0ec6250d17 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ce0ec6250d17_new_migration.py)
9c33fc0c4a84 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9c33fc0c4a84_new_migration.py)
6a96874c0ad1 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6a96874c0ad1_new_migration.py)
3631f37a6ede : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3631f37a6ede_new_migration.py)
d6323dc5dcd7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6323dc5dcd7_new_migration.py)
f3fd6b330e81 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f3fd6b330e81_new_migration.py)
20f28f8c5f54 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/20f28f8c5f54_new_migration.py)
e6d632bf773c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e6d632bf773c_new_migration.py)
2b2b79837a0d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2b2b79837a0d_new_migration.py)
a78aa1af83dd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/a78aa1af83dd_new_migration.py)
1d400ea0f1e4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1d400ea0f1e4_new_migration.py)
22f111585a53 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/22f111585a53_new_migration.py)
7612ed1aa81e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/7612ed1aa81e_new_migration.py)
0707bedb3d28 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/0707bedb3d28_new_migration.py)
59cbe44e66a5 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/59cbe44e66a5_new_migration.py)
c5ccdbb1b19a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c5ccdbb1b19a_new_migration.py)
164cf5fd633d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/164cf5fd633d_new_migration.py)
9938eed5060c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9938eed5060c_new_migration.py)
9026e122f186 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9026e122f186_new_migration.py)
8e94e14a6e05 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/8e94e14a6e05_new_migration.py)
d6b8c200cc0c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6b8c200cc0c_new_migration.py)
2e7e60e5b62f : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2e7e60e5b62f_new_migration.py)
ebce9eae2f56 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ebce9eae2f56_new_migration.py)
==========================================================================================
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:07:08 | INFO | dbgpt.util._db_migration_utils | alembic migration current revision: 5a0b94937f2a, latest revision: 5a0b94937f2a
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 12:07:08 | INFO | alembic.runtime.migration | Running upgrade 5a0b94937f2a -> 1b64e5993714, New migration
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x30f006a70>
2024-08-08 12:07:08 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x30f006a70>
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 12:07:08 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x30f1fd9f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 12:07:08 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x30f1fd9f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 12:07:08 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 12:07:08 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 12:07:08 | INFO | dbgpt.util.dbgpts.loader | Found 0 dbgpts packages from /Users/asif/.dbgpts/packages/6374767bfc89bd86b1d7613ad92e86c9
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=9cd4e331-89fa-4ee6-a976-8c0820bf88e1)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=9cd4e331-89fa-4ee6-a976-8c0820bf88e1)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489e200>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489e200>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489e200>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=cff01d85-78f7-498a-b0e3-447a8ef4f628)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=cff01d85-78f7-498a-b0e3-447a8ef4f628)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489eef0>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489eef0>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489eef0>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=0957504b-e063-426b-a1b7-bd97ba07cb47)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=0957504b-e063-426b-a1b7-bd97ba07cb47)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489f880>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489f880>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x31489f880>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=253b9586-cd6a-40b9-8f56-c58c7e5c31aa)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=253b9586-cd6a-40b9-8f56-c58c7e5c31aa)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x31489fd00>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x31489fd00>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x31489fd00>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7fd8e115-f2ba-4db0-a918-5a7ccacfd3ba)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7fd8e115-f2ba-4db0-a918-5a7ccacfd3ba)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314924820>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314924820>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314924820>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=ac23a8f8-5f37-40d7-b00f-f4c64d0d09e2)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=ac23a8f8-5f37-40d7-b00f-f4c64d0d09e2)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314925480>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314925480>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314925480>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=28e6a3f6-b6d2-4565-ad05-faa7cebf3d5d)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=28e6a3f6-b6d2-4565-ad05-faa7cebf3d5d)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314925a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314925a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314925a20>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=1094a6d1-e53c-4d98-a829-b96b8541cf50)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=1094a6d1-e53c-4d98-a829-b96b8541cf50)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x3149270a0>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x3149270a0>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x3149270a0>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7f49ff0b-40d9-4bdf-b903-e84180fa0b06)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7f49ff0b-40d9-4bdf-b903-e84180fa0b06)
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314926d40>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314926d40>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x314926d40>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x30c556050> to prefix path /api/v1/awel/trigger
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x314ae4280>
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x314ae4280>
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 12:07:08 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 12:07:08 | INFO | dbgpt.model.adapter.proxy_adapter | Load model from params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================

, llm client class: <class 'dbgpt.model.proxy.llms.ollama.OllamaLLMClient'>
2024-08-08 12:07:10 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:07:10 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:07:12 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:07:12 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:07:12 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:07:12 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 12:07:13 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x314b1b580>
2024-08-08 12:07:30 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:07:30 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:07:30 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:07:56 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_qa,clinical_trials,ollama_proxyllm
2024-08-08 12:07:56 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='bdf1d9c6-5550-11ef-b28a-0a065cd3fd91' user_input='what are tables in the database?' user_name=None chat_mode='chat_with_db_qa' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 12:07:57 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x31ec8b2e0>
2024-08-08 12:08:10 | WARNING | dbgpt.rag.summary.db_summary_client | clinical_trials, mssql summary error!(pymssql.exceptions.ProgrammingError) (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")
[SQL: SHOW GRANTS]
(Background on this error at: https://sqlalche.me/e/20/f405), detail: Traceback (most recent call last):
  File "src/pymssql/_pymssql.pyx", line 447, in pymssql._pymssql.Cursor.execute
  File "src/pymssql/_mssql.pyx", line 1125, in pymssql._mssql.MSSQLConnection.execute_query
  File "src/pymssql/_mssql.pyx", line 1156, in pymssql._mssql.MSSQLConnection.execute_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1970, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "src/pymssql/_pymssql.pyx", line 462, in pymssql._pymssql.Cursor.execute
pymssql.exceptions.ProgrammingError: (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 75, in init_db_summary
    self.db_summary_embedding(item["db_name"], item["db_type"])
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 43, in db_summary_embedding
    db_summary_client = self.create_summary_client(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 141, in create_summary_client
    return RdbmsSummary(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/rdbms_db_summary.py", line 43, in __init__
    grant=self.db.get_grants(),
  File "/Users/asif/Desktop/DB-GPT/dbgpt/datasource/rdbms/base.py", line 569, in get_grants
    cursor = session.execute(text("SHOW GRANTS"))
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2306, in execute
    return self._execute_internal(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2200, in _execute_internal
    result = conn.execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1421, in execute
    return meth(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1643, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1849, in _execute_context
    return self._exec_single_context(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1989, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2356, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1970, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "src/pymssql/_pymssql.pyx", line 462, in pymssql._pymssql.Cursor.execute
sqlalchemy.exc.ProgrammingError: (pymssql.exceptions.ProgrammingError) (2812, b"Could not find stored procedure 'SHOW'.DB-Lib error message 20018, severity 16:\nGeneral SQL Server error: Check messages from the SQL Server\n")
[SQL: SHOW GRANTS]
(Background on this error at: https://sqlalche.me/e/20/f405)

2024-08-08 12:08:54 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:08:55 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d61094cf-8f40-4006-9494-e9930f20f9f2, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d61094cf-8f40-4006-9494-e9930f20f9f2, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d61094cf-8f40-4006-9494-e9930f20f9f2, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 100bf5fb-9393-4c2b-96d7-c1d34d1dfb24, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 100bf5fb-9393-4c2b-96d7-c1d34d1dfb24, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 100bf5fb-9393-4c2b-96d7-c1d34d1dfb24, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.app.scene.base_chat | payload request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nProvide professional answers to requests and questions. If you can\'t get an answer from what you\'ve provided, say: "Insufficient information in the knowledge base is available to answer this question." Feel free to fudge information.\nUse the following tables generate sql if have any table info:\n[\'claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nuser question:\nwhat are tables in the database?\nthink step by step.\n', round_index=0), ModelMessage(role='human', content='what are tables in the database?', round_index=0)], temperature=0.6, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='fc6c48463848a36bd4281d72934dc2d6:210a698e2b986ab6', context=ModelRequestContext(stream=True, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='fc6c48463848a36bd4281d72934dc2d6:210a698e2b986ab6', chat_mode='chat_with_db_qa', chat_param=None, extra={}, request_id=None))
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 57c3bb82-d9e1-45fe-b167-b31585097f24, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 57c3bb82-d9e1-45fe-b167-b31585097f24, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 57c3bb82-d9e1-45fe-b167-b31585097f24, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 2ce7109a-ac01-4265-b048-e066f69a78a8
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 2ce7109a-ac01-4265-b048-e066f69a78a8
2024-08-08 12:09:00 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 2ce7109a-ac01-4265-b048-e066f69a78a8
2024-08-08 12:09:00 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:09:00 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:09:13 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:09:13 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:09:53 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_qa,clinical_trials,ollama_proxyllm
2024-08-08 12:09:53 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='bdf1d9c6-5550-11ef-b28a-0a065cd3fd91' user_input='How many unique patients are present in the database?' user_name=None chat_mode='chat_with_db_qa' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 12:09:53 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x32703f220>
2024-08-08 12:10:51 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:10:51 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 95abb95d-4a5a-465b-bb17-dc7667ecccfb, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 95abb95d-4a5a-465b-bb17-dc7667ecccfb, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 95abb95d-4a5a-465b-bb17-dc7667ecccfb, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 684d11be-8e6e-45d9-ab37-fd49ed3f79cd, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 684d11be-8e6e-45d9-ab37-fd49ed3f79cd, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 684d11be-8e6e-45d9-ab37-fd49ed3f79cd, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.app.scene.base_chat | payload request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nProvide professional answers to requests and questions. If you can\'t get an answer from what you\'ve provided, say: "Insufficient information in the knowledge base is available to answer this question." Feel free to fudge information.\nUse the following tables generate sql if have any table info:\n[\'claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nuser question:\nHow many unique patients are present in the database?\nthink step by step.\n', round_index=0), ModelMessage(role='human', content='what are tables in the database?', round_index=1), ModelMessage(role='ai', content='Based on the provided table information, here is a list of tables in the database:\n\n1. claims\n2. claims_transactions\n3. devices\n4. imaging_studies\n5. patients\n6. payer_transitions\n7. conditions\n8. observations\n9. immunizations\n10. StudyData\n11. encounters\n12. payers\n13. sysdiagrams\n14. medications\n15. procedures\n16. providers\n17. supplies\n18. allergies\n19. careplans\n\nPlease note that the list may not be exhaustive as some tables like `sysdiagrams` might be system-generated and not directly related to patient data.', round_index=1), ModelMessage(role='human', content='How many unique patients are present in the database?', round_index=0)], temperature=0.6, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='bc43005ec7db2db29ffaac51a59d909a:3df6ff90d30d81cf', context=ModelRequestContext(stream=True, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='bc43005ec7db2db29ffaac51a59d909a:3df6ff90d30d81cf', chat_mode='chat_with_db_qa', chat_param=None, extra={}, request_id=None))
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 68badbf5-4507-4610-bfa4-3af4438e3417, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 68badbf5-4507-4610-bfa4-3af4438e3417, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 68badbf5-4507-4610-bfa4-3af4438e3417, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 8ed51ca7-c426-4ff1-a37e-dc868c2d6793
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 8ed51ca7-c426-4ff1-a37e-dc868c2d6793
2024-08-08 12:11:00 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 8ed51ca7-c426-4ff1-a37e-dc868c2d6793
2024-08-08 12:11:00 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:11:00 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:11:08 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:11:08 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:11:38 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:11:38 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:11:38 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:12:15 | INFO | dbgpt.app.openapi.api_v1.editor.api_editor_v1 | get_editor_sql_rounds:586edb02-5551-11ef-b28a-0a065cd3fd91
2024-08-08 12:12:28 | INFO | dbgpt.app.openapi.api_v1.editor.api_editor_v1 | editor_sql_run:{}
2024-08-08 12:12:28 | ERROR | dbgpt.serve.core.schemas | common_exception_handler catch Exception: success=False err_code='E0003' err_msg="'db_name'" data=None
2024-08-08 12:12:28 | ERROR | dbgpt.serve.core.schemas | common_exception_handler catch Exception: success=False err_code='E0003' err_msg="'db_name'" data=None
2024-08-08 12:12:28 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:12:28 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:12:28 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:13:33 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-08 12:13:33 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='80f2db28-5551-11ef-b28a-0a065cd3fd91' user_input='How many unique patients are present in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 12:13:33 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x337e8a380>
2024-08-08 12:14:30 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:14:30 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 61c9fbc2-71e4-4297-95d7-481ee59c1f65, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 61c9fbc2-71e4-4297-95d7-481ee59c1f65, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 61c9fbc2-71e4-4297-95d7-481ee59c1f65, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 2ce8d51e-335f-404d-8c80-a53cb4fe3eb7, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 2ce8d51e-335f-404d-8c80-a53cb4fe3eb7, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 2ce8d51e-335f-404d-8c80-a53cb4fe3eb7, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     clinical_trials\nTable structure definition:\n     [\'claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct mssql sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    How many unique patients are present in the database?\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='How many unique patients are present in the database?', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='c49413d474c6728e5e610afdcc165d1b:cf28d841036a393a', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='c49413d474c6728e5e610afdcc165d1b:cf28d841036a393a', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 312045b4-c3fc-4c7e-8f34-c1694731bc09, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 312045b4-c3fc-4c7e-8f34-c1694731bc09, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 312045b4-c3fc-4c7e-8f34-c1694731bc09, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x30c556140>
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 97fa4cd6-7d5e-41cd-837f-cd519c603cbd
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 97fa4cd6-7d5e-41cd-837f-cd519c603cbd
2024-08-08 12:14:37 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id 97fa4cd6-7d5e-41cd-837f-cd519c603cbd
2024-08-08 12:14:37 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:14:37 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 12:14:53 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:14:53 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 12:14:57 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {     "thoughts": "I will count all unique patient IDs from the 'patients' table to determine the number of unique patients.",     "sql": "SELECT COUNT(DISTINCT Id) AS NumberOfUniquePatients FROM patients;",     "display_type": "response_table" }
2024-08-08 12:14:57 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT Id) AS NumberOfUniquePatients FROM patients;
2024-08-08 12:14:57 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT Id) AS NumberOfUniquePatients FROM patients;, ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-08 12:14:57 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT COUNT(DISTINCT Id) AS NumberOfUniquePatients FROM patients;]
2024-08-08 12:26:44 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 12:26:44 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:26:44 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 12:27:09 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 12:27:09 | INFO | dbgpt.storage.vector_store.chroma_store | Check persist_dir: /Users/asif/Desktop/DB-GPT/pilot/data/clinical_trials_profile.vectordb
2024-08-08 12:27:09 | INFO | dbgpt.storage.vector_store.chroma_store | chroma vector_name:clinical_trials_profile begin delete...
2024-08-08 12:27:09 | INFO | dbgpt.rag.summary.db_summary_client | delete db profile clinical_trials success
2024-08-08 13:20:51 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 13:20:51 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-08 13:20:51 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x337e93a30>
2024-08-08 13:20:51 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x337e93a30>
2024-08-08 13:20:51 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 13:20:51 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 13:20:52 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 13:20:52 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 13:20:52 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 13:20:52 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-08 13:21:07 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x12fecc460>
2024-08-08 13:21:07 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x12fecc460>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x16ce45720>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x16ce45720>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x16ceeeb00>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x16ceeeb00>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x12fac1e40>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x12fac1e40>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x16d8380d0>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x16d8380d0>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x16d838fd0>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x16d838fd0>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x1699ee0b0>
2024-08-08 13:21:08 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x1699ee0b0>
2024-08-08 13:21:08 | INFO | dbgpt.app.initialization.embedding_component | Register local LocalEmbeddingFactory
2024-08-08 13:21:08 | INFO | dbgpt.model.adapter.embeddings_loader | [EmbeddingsModelWorker] Parameters of device is None, use mps
2024-08-08 13:21:08 | INFO | dbgpt.app.initialization.embedding_component | 

=========================== EmbeddingModelParameters ===========================

model_name: text2vec
model_path: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
device: mps
normalize_embeddings: None
rerank: False
max_length: None

======================================================================


2024-08-08 13:21:09 | INFO | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
2024-08-08 13:21:09 | WARNING | sentence_transformers.SentenceTransformer | No sentence-transformers model found with name /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese. Creating a new one with mean pooling.
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x16cef67d0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x16cef67d0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x3045519f0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x3045519f0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x304550940>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x304550940>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x304552200>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x304552200>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x304552350>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x304552350>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x3045523b0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x3045523b0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x3045d81f0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x3045d81f0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x3045d84f0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x3045d84f0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x3045d8070>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x3045d8070>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x3047fa140>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x3047fa140>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x3047fa020>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x3047fa020>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x304792b60>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x304792b60>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30534a980>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30534a980>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x304792bf0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x304792bf0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30534ab90>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30534ab90>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30534aad0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30534aad0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x3055e1f90>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x3055e1f90>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x3055e1ed0>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x3055e1ed0>
2024-08-08 13:21:12 | WARNING | dbgpt.util._db_migration_utils | Initialize and upgrade database metadata with alembic, just run this in your development environment, if you deploy this in production environment, please run webserver with --disable_alembic_upgrade(`python dbgpt/app/dbgpt_server.py --disable_alembic_upgrade`).
we suggest you to use `dbgpt db migration` to initialize and upgrade database metadata with alembic, your can run `dbgpt db migration --help` to get more information.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 13:21:12 | INFO | dbgpt.util._db_migration_utils | Migration versions and their file paths:
========================================Migration versions========================================

1b64e5993714 (current): New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1b64e5993714_new_migration.py)
5a0b94937f2a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5a0b94937f2a_new_migration.py)
1ba0c6da71d2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1ba0c6da71d2_new_migration.py)
cfb2cbe49828 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/cfb2cbe49828_new_migration.py)
c1c5571ff1a7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c1c5571ff1a7_new_migration.py)
45d43403973e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/45d43403973e_new_migration.py)
256388bf19b2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/256388bf19b2_new_migration.py)
5abe01af3fb4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5abe01af3fb4_new_migration.py)
bb929bd776bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/bb929bd776bb_new_migration.py)
2412acd54f44 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2412acd54f44_new_migration.py)
315243ff05f0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/315243ff05f0_new_migration.py)
e7b5af284887 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e7b5af284887_new_migration.py)
69e556edd3d0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/69e556edd3d0_new_migration.py)
328b754cf1d6 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/328b754cf1d6_new_migration.py)
e1c9e1f89199 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e1c9e1f89199_new_migration.py)
34d5a391887a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/34d5a391887a_new_migration.py)
108b26ba5abd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/108b26ba5abd_new_migration.py)
27d02737b3e2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/27d02737b3e2_new_migration.py)
6b279d6f1476 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6b279d6f1476_new_migration.py)
5125424024bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5125424024bb_new_migration.py)
ecd042d489ac : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ecd042d489ac_new_migration.py)
e778da8eedfe : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e778da8eedfe_new_migration.py)
3391b413a9dc : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3391b413a9dc_new_migration.py)
c688ff9d8bfa : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c688ff9d8bfa_new_migration.py)
150bd201db2c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/150bd201db2c_new_migration.py)
03fb0bfb7c80 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/03fb0bfb7c80_new_migration.py)
f89c56e09c49 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f89c56e09c49_new_migration.py)
90b9e1607d2b : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/90b9e1607d2b_new_migration.py)
efd5b512d63c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/efd5b512d63c_new_migration.py)
23a5aa127af9 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/23a5aa127af9_new_migration.py)
621264f79be2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/621264f79be2_new_migration.py)
ce0ec6250d17 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ce0ec6250d17_new_migration.py)
9c33fc0c4a84 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9c33fc0c4a84_new_migration.py)
6a96874c0ad1 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6a96874c0ad1_new_migration.py)
3631f37a6ede : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3631f37a6ede_new_migration.py)
d6323dc5dcd7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6323dc5dcd7_new_migration.py)
f3fd6b330e81 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f3fd6b330e81_new_migration.py)
20f28f8c5f54 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/20f28f8c5f54_new_migration.py)
e6d632bf773c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e6d632bf773c_new_migration.py)
2b2b79837a0d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2b2b79837a0d_new_migration.py)
a78aa1af83dd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/a78aa1af83dd_new_migration.py)
1d400ea0f1e4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1d400ea0f1e4_new_migration.py)
22f111585a53 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/22f111585a53_new_migration.py)
7612ed1aa81e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/7612ed1aa81e_new_migration.py)
0707bedb3d28 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/0707bedb3d28_new_migration.py)
59cbe44e66a5 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/59cbe44e66a5_new_migration.py)
c5ccdbb1b19a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c5ccdbb1b19a_new_migration.py)
164cf5fd633d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/164cf5fd633d_new_migration.py)
9938eed5060c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9938eed5060c_new_migration.py)
9026e122f186 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9026e122f186_new_migration.py)
8e94e14a6e05 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/8e94e14a6e05_new_migration.py)
d6b8c200cc0c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6b8c200cc0c_new_migration.py)
2e7e60e5b62f : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2e7e60e5b62f_new_migration.py)
ebce9eae2f56 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ebce9eae2f56_new_migration.py)
==========================================================================================
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 13:21:12 | INFO | dbgpt.util._db_migration_utils | alembic migration current revision: 1b64e5993714, latest revision: 1b64e5993714
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-08 13:21:12 | INFO | alembic.runtime.migration | Running upgrade 1b64e5993714 -> eedb9981a4ec, New migration
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x307806c80>
2024-08-08 13:21:12 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x307806c80>
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-08 13:21:12 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x3079fdf00>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 13:21:12 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x3079fdf00>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-08 13:21:12 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 13:21:12 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-08 13:21:12 | INFO | dbgpt.util.dbgpts.loader | Found 0 dbgpts packages from /Users/asif/.dbgpts/packages/6374767bfc89bd86b1d7613ad92e86c9
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=579c2d2d-c59d-4279-9c14-0c89483cc2e8)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=579c2d2d-c59d-4279-9c14-0c89483cc2e8)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09a170>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09a170>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09a170>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=22bf5ca2-4d83-4d67-9da2-998fd0ee922b)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=22bf5ca2-4d83-4d67-9da2-998fd0ee922b)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09ae60>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09ae60>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09ae60>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=fc205c57-48be-44e1-8123-4d6e4fb6424e)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=fc205c57-48be-44e1-8123-4d6e4fb6424e)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09b7f0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09b7f0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d09b7f0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=a915375a-0102-4f2a-bf27-edec709f9bd8)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=a915375a-0102-4f2a-bf27-edec709f9bd8)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30d09be20>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30d09be20>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x30d09be20>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=6cab411c-1cdb-491c-b1c5-b7f8c5608626)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=6cab411c-1cdb-491c-b1c5-b7f8c5608626)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d120940>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d120940>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d120940>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=337e5637-579f-44a7-9da7-c61b3dd3849a)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=337e5637-579f-44a7-9da7-c61b3dd3849a)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d121360>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d121360>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d121360>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7d7de76a-0e58-4bae-ad33-9b8b78195ff2)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=7d7de76a-0e58-4bae-ad33-9b8b78195ff2)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d121b40>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d121b40>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d121b40>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4daa7c57-f1b9-426d-94f1-185a426d265d)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4daa7c57-f1b9-426d-94f1-185a426d265d)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d123010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d123010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d123010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=0078f1fc-8ced-4baa-8be9-faed2651f661)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=0078f1fc-8ced-4baa-8be9-faed2651f661)
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d123640>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d123640>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x30d123640>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x304552140> to prefix path /api/v1/awel/trigger
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x30d2e41f0>
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x30d2e41f0>
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 13:21:12 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-08 13:21:12 | INFO | dbgpt.model.adapter.proxy_adapter | Load model from params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================

, llm client class: <class 'dbgpt.model.proxy.llms.ollama.OllamaLLMClient'>
2024-08-08 13:21:14 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 13:21:14 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 13:21:17 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 13:21:17 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 13:21:17 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 13:21:17 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-08 13:21:51 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-08 13:21:51 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 13:21:51 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-08 13:22:32 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:22:32 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:22:34 | ERROR | dbgpt.datasource.manages.connector_manager | clinical_trials Test connect Failure!(pymssql.exceptions.OperationalError) (40613, b"Database 'clinical_trials' on server 'ctmatchingserver.database.windows.net' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{C0714E40-26BE-41BB-B8C1-93FDAEB1D6DA}'.DB-Lib error message 20018, severity 20:\nGeneral SQL Server error: Check messages from the SQL Server\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\n")
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-08-08 13:22:34 | INFO | dbgpt.datasource.manages.connector_manager | add_db:{'db_type': 'mssql', 'db_name': 'clinical_trials', 'file_path': '', 'db_host': 'ctmatchingserver.database.windows.net', 'db_port': 1433, 'db_user': 'ctuser', 'db_pwd': 'Icubecs1', 'comment': ''}
2024-08-08 13:22:34 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30f3e36a0>
2024-08-08 13:23:27 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:23:27 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:23:42 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:23:42 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:23:57 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:23:57 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:24:12 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:24:12 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Read timed out. (read timeout=10)
2024-08-08 13:24:21 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 13:24:21 | INFO | dbgpt.storage.vector_store.chroma_store | Check persist_dir: /Users/asif/Desktop/DB-GPT/pilot/data/clinical_trials_profile.vectordb
2024-08-08 13:24:21 | INFO | dbgpt.rag.summary.db_summary_client | delete db profile clinical_trials success
2024-08-08 13:24:21 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x30f8c51e0>
2024-08-08 13:24:52 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-08 13:24:52 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='80f2db28-5551-11ef-b28a-0a065cd3fd91' user_input='How many unique patients are present in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-08 13:24:52 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x319967640>
2024-08-08 13:25:48 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-08 13:25:48 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 4a8ec501-8420-4e4a-bb03-77bd22d3d8d1, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 4a8ec501-8420-4e4a-bb03-77bd22d3d8d1, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 4a8ec501-8420-4e4a-bb03-77bd22d3d8d1, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 53a1d193-4a50-4ca7-9d78-05aac17b8897, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 53a1d193-4a50-4ca7-9d78-05aac17b8897, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 53a1d193-4a50-4ca7-9d78-05aac17b8897, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     clinical_trials\nTable structure definition:\n     [\'dbo.claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'dbo.claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'dbo.devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'dbo.imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'dbo.patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'dbo.payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'dbo.conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'dbo.observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'dbo.immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'dbo.StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'dbo.encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'dbo.payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'dbo.sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'dbo.medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'dbo.procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'dbo.providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'dbo.supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'dbo.allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'dbo.careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct mssql sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    How many unique patients are present in the database?\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='How many unique patients are present in the database?', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='618d786783b4ce6498ba54b6d87f1814:911da78d79cb7ac8', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='618d786783b4ce6498ba54b6d87f1814:911da78d79cb7ac8', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 5c78b1a0-1793-4f6b-bbde-6dda414f6384, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 5c78b1a0-1793-4f6b-bbde-6dda414f6384, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 5c78b1a0-1793-4f6b-bbde-6dda414f6384, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x304552230>
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id aed84845-600f-4475-a0d5-f8283b013aed
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id aed84845-600f-4475-a0d5-f8283b013aed
2024-08-08 13:25:54 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id aed84845-600f-4475-a0d5-f8283b013aed
2024-08-08 13:25:54 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 13:25:54 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-08 13:26:17 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 13:26:17 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-08 13:26:22 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {     "thoughts": "We need to count the distinct number of patient IDs from the 'dbo.patients' table.",     "sql": "SELECT COUNT(DISTINCT Id) AS UniquePatients FROM dbo.patients",     "display_type": "response_table" }
2024-08-08 13:26:22 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT Id) AS UniquePatients FROM dbo.patients
2024-08-08 13:26:22 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT Id) AS UniquePatients FROM dbo.patients, ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-08 13:26:22 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT COUNT(DISTINCT Id) AS UniquePatients FROM dbo.patients]
2024-08-08 15:09:46 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 15:09:46 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 15:09:46 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-08 15:09:46 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-09 00:08:30 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-09 00:08:30 | INFO | dbgpt.model.cluster.worker.manager | Stop all workers
2024-08-09 00:08:30 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x30f377d00>
2024-08-09 00:08:30 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._stop_all_worker.<locals>._stop_worker at 0x30f377d00>
2024-08-09 00:08:30 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-09 00:08:30 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-09 00:08:30 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-09 00:08:30 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-09 00:08:30 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-09 00:08:30 | WARNING | dbgpt.model.cluster.worker.manager | Stop worker, ignored exception from deregister_func: All connection attempts failed
2024-08-09 14:47:45 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x11fa48460>
2024-08-09 14:47:45 | INFO | dbgpt.component | Register component with name dbgpt_unified_metadata_db_manager_factory and instance: <dbgpt.storage.metadata.db_factory.UnifiedDBManagerFactory object at 0x11fa48460>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x16d645690>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_thread_pool_default and instance: <dbgpt.util.executor_utils.DefaultExecutorFactory object at 0x16d645690>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x16d6eea70>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_default_scheduler and instance: <dbgpt.app.initialization.scheduler.DefaultScheduler object at 0x16d6eea70>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x11e7c5e40>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_model_controller and instance: <dbgpt.model.cluster.controller.controller.ModelControllerAdapter object at 0x11e7c5e40>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x16d738040>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_connector_manager and instance: <dbgpt.datasource.manages.connector_manager.ConnectorManager object at 0x16d738040>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x16d738f40>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_plugin_hub and instance: <dbgpt.serve.agent.hub.controller.ModulePlugin object at 0x16d738f40>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x16a2f6020>
2024-08-09 14:47:46 | INFO | dbgpt.component | Register component with name dbgpt_multi_agents and instance: <dbgpt.serve.agent.agents.controller.MultiAgents object at 0x16a2f6020>
2024-08-09 14:47:46 | INFO | dbgpt.app.initialization.embedding_component | Register local LocalEmbeddingFactory
2024-08-09 14:47:46 | INFO | dbgpt.model.adapter.embeddings_loader | [EmbeddingsModelWorker] Parameters of device is None, use mps
2024-08-09 14:47:46 | INFO | dbgpt.app.initialization.embedding_component | 

=========================== EmbeddingModelParameters ===========================

model_name: text2vec
model_path: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
device: mps
normalize_embeddings: None
rerank: False
max_length: None

======================================================================


2024-08-09 14:47:48 | INFO | sentence_transformers.SentenceTransformer | Load pretrained SentenceTransformer: /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese
2024-08-09 14:47:48 | WARNING | sentence_transformers.SentenceTransformer | No sentence-transformers model found with name /Users/asif/Desktop/DB-GPT/models/text2vec-large-chinese. Creating a new one with mean pooling.
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x16d6f6740>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name embedding_factory and instance: <dbgpt.app.initialization.embedding_component.LocalEmbeddingFactory object at 0x16d6f6740>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x3420519c0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_model_cache_manager and instance: <dbgpt.storage.cache.manager.LocalCacheManager object at 0x3420519c0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x342050910>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_awel_trigger_manager and instance: <dbgpt.core.awel.trigger.trigger_manager.DefaultTriggerManager object at 0x342050910>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x3420521d0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_awel_dag_manager and instance: <dbgpt.core.awel.dag.dag_manager.DAGManager object at 0x3420521d0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x342052320>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_resource_manager and instance: <dbgpt.agent.resource.manage.ResourceManager object at 0x342052320>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x342052380>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_agent_manager and instance: <dbgpt.agent.core.agent_manage.AgentManager object at 0x342052380>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x3420d8a30>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_app_editor_service and instance: <dbgpt.app.openapi.api_v1.editor.service.EditorService object at 0x3420d8a30>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x3420d88b0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt and instance: <dbgpt.serve.prompt.serve.Serve object at 0x3420d88b0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x3420d8bb0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_prompt_service and instance: <dbgpt.serve.prompt.service.service.Service object at 0x3420d8bb0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x34f1f6110>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation and instance: <dbgpt.serve.conversation.serve.Serve object at 0x34f1f6110>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x34f1f5ff0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_conversation_service and instance: <dbgpt.serve.conversation.service.service.Service object at 0x34f1f5ff0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x34f1ceb30>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow and instance: <dbgpt.serve.flow.serve.Serve object at 0x34f1ceb30>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30cf36950>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_dbgpts_loader and instance: <dbgpt.util.dbgpts.loader.DBGPTsLoader object at 0x30cf36950>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x34f1cebc0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_serve_flow_service and instance: <dbgpt.serve.flow.service.service.Service object at 0x34f1cebc0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30cf36b60>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_rag and instance: <dbgpt.serve.rag.serve.Serve object at 0x30cf36b60>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30cf36aa0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_rag_service and instance: <dbgpt.serve.rag.service.service.Service object at 0x30cf36aa0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x30d1d1f60>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_datasource and instance: <dbgpt.serve.datasource.serve.Serve object at 0x30d1d1f60>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x30d1d1ea0>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_datasource_service and instance: <dbgpt.serve.datasource.service.service.Service object at 0x30d1d1ea0>
2024-08-09 14:47:51 | WARNING | dbgpt.util._db_migration_utils | Initialize and upgrade database metadata with alembic, just run this in your development environment, if you deploy this in production environment, please run webserver with --disable_alembic_upgrade(`python dbgpt/app/dbgpt_server.py --disable_alembic_upgrade`).
we suggest you to use `dbgpt db migration` to initialize and upgrade database metadata with alembic, your can run `dbgpt db migration --help` to get more information.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-09 14:47:51 | INFO | dbgpt.util._db_migration_utils | Migration versions and their file paths:
========================================Migration versions========================================

eedb9981a4ec (current): New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/eedb9981a4ec_new_migration.py)
1b64e5993714 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1b64e5993714_new_migration.py)
5a0b94937f2a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5a0b94937f2a_new_migration.py)
1ba0c6da71d2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1ba0c6da71d2_new_migration.py)
cfb2cbe49828 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/cfb2cbe49828_new_migration.py)
c1c5571ff1a7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c1c5571ff1a7_new_migration.py)
45d43403973e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/45d43403973e_new_migration.py)
256388bf19b2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/256388bf19b2_new_migration.py)
5abe01af3fb4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5abe01af3fb4_new_migration.py)
bb929bd776bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/bb929bd776bb_new_migration.py)
2412acd54f44 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2412acd54f44_new_migration.py)
315243ff05f0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/315243ff05f0_new_migration.py)
e7b5af284887 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e7b5af284887_new_migration.py)
69e556edd3d0 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/69e556edd3d0_new_migration.py)
328b754cf1d6 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/328b754cf1d6_new_migration.py)
e1c9e1f89199 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e1c9e1f89199_new_migration.py)
34d5a391887a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/34d5a391887a_new_migration.py)
108b26ba5abd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/108b26ba5abd_new_migration.py)
27d02737b3e2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/27d02737b3e2_new_migration.py)
6b279d6f1476 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6b279d6f1476_new_migration.py)
5125424024bb : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/5125424024bb_new_migration.py)
ecd042d489ac : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ecd042d489ac_new_migration.py)
e778da8eedfe : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e778da8eedfe_new_migration.py)
3391b413a9dc : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3391b413a9dc_new_migration.py)
c688ff9d8bfa : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c688ff9d8bfa_new_migration.py)
150bd201db2c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/150bd201db2c_new_migration.py)
03fb0bfb7c80 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/03fb0bfb7c80_new_migration.py)
f89c56e09c49 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f89c56e09c49_new_migration.py)
90b9e1607d2b : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/90b9e1607d2b_new_migration.py)
efd5b512d63c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/efd5b512d63c_new_migration.py)
23a5aa127af9 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/23a5aa127af9_new_migration.py)
621264f79be2 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/621264f79be2_new_migration.py)
ce0ec6250d17 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ce0ec6250d17_new_migration.py)
9c33fc0c4a84 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9c33fc0c4a84_new_migration.py)
6a96874c0ad1 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/6a96874c0ad1_new_migration.py)
3631f37a6ede : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/3631f37a6ede_new_migration.py)
d6323dc5dcd7 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6323dc5dcd7_new_migration.py)
f3fd6b330e81 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/f3fd6b330e81_new_migration.py)
20f28f8c5f54 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/20f28f8c5f54_new_migration.py)
e6d632bf773c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/e6d632bf773c_new_migration.py)
2b2b79837a0d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2b2b79837a0d_new_migration.py)
a78aa1af83dd : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/a78aa1af83dd_new_migration.py)
1d400ea0f1e4 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/1d400ea0f1e4_new_migration.py)
22f111585a53 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/22f111585a53_new_migration.py)
7612ed1aa81e : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/7612ed1aa81e_new_migration.py)
0707bedb3d28 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/0707bedb3d28_new_migration.py)
59cbe44e66a5 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/59cbe44e66a5_new_migration.py)
c5ccdbb1b19a : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/c5ccdbb1b19a_new_migration.py)
164cf5fd633d : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/164cf5fd633d_new_migration.py)
9938eed5060c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9938eed5060c_new_migration.py)
9026e122f186 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/9026e122f186_new_migration.py)
8e94e14a6e05 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/8e94e14a6e05_new_migration.py)
d6b8c200cc0c : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/d6b8c200cc0c_new_migration.py)
2e7e60e5b62f : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/2e7e60e5b62f_new_migration.py)
ebce9eae2f56 : New migration (Path: /Users/asif/Desktop/DB-GPT/pilot/meta_data/alembic/versions/ebce9eae2f56_new_migration.py)
==========================================================================================
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-09 14:47:51 | INFO | dbgpt.util._db_migration_utils | alembic migration current revision: eedb9981a4ec, latest revision: eedb9981a4ec
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Context impl SQLiteImpl.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Will assume non-transactional DDL.
2024-08-09 14:47:51 | INFO | alembic.runtime.migration | Running upgrade eedb9981a4ec -> 3daac799906f, New migration
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Register WorkerManager dbgpt_worker_manager_factory
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x30e406d70>
2024-08-09 14:47:51 | INFO | dbgpt.component | Register component with name dbgpt_worker_manager_factory and instance: <dbgpt.model.cluster.worker.manager._DefaultWorkerManagerFactory object at 0x30e406d70>
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Worker params: 

=========================== ModelWorkerParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
host: 0.0.0.0
port: 5670
daemon: False
log_level: None
log_file: dbgpt_model_worker_manager.log
tracer_file: dbgpt_model_worker_manager_tracer.jsonl
tracer_to_open_telemetry: False
otel_exporter_otlp_traces_endpoint: None
otel_exporter_otlp_traces_insecure: None
otel_exporter_otlp_traces_certificate: None
otel_exporter_otlp_traces_headers: None
otel_exporter_otlp_traces_timeout: None
otel_exporter_otlp_traces_compression: None
worker_type: None
model_alias: None
worker_class: None
model_type: huggingface
limit_model_concurrency: 5
standalone: True
register: True
worker_register_host: None
controller_addr: None
send_heartbeat: True
heartbeat_interval: 20
tracer_storage_cls: None

======================================================================


2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Run WorkerManager with standalone mode, controller_addr: http://127.0.0.1:5670
2024-08-09 14:47:51 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x30e6fe2f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-09 14:47:51 | WARNING | dbgpt.util.api_utils | Health check failed for http://127.0.0.1:5670, error: HTTPConnectionPool(host='127.0.0.1', port=5670): Max retries exceeded with url: /api/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x30e6fe2f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
2024-08-09 14:47:51 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-09 14:47:51 | INFO | dbgpt.model.adapter.model_adapter | Current model ollama_proxyllm use new adapter <OllamaLLMModelAdapter model_name=ollama_proxyllm model_path=ollama_proxyllm>
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.default_worker | model_name: ollama_proxyllm, model_path: ollama_proxyllm, model_param_class: <class 'dbgpt.model.parameter.ProxyModelParameters'>
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.default_worker | [DefaultModelWorker] Parameters of device is None, use mps
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-09 14:47:51 | INFO | dbgpt.model.cluster.worker.manager | Init empty instances list for ollama_proxyllm@llm
2024-08-09 14:47:51 | INFO | dbgpt.util.dbgpts.loader | Found 0 dbgpts packages from /Users/asif/.dbgpts/packages/6374767bfc89bd86b1d7613ad92e86c9
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_rewrite_example) from mod <module 'unusual_prefix_592afab84e5de9c46157ec2eeeeb0a269dbd3e66_simple_rag_rewrite_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_rewrite_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-09 14:47:51 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_nl_schema_sql_chart_example) from mod <module 'unusual_prefix_3e11d671aac2b483414e1d9c24ae59bd1369f736_simple_nl_schema_sql_chart_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_nl_schema_sql_chart_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_dag_example) from mod <module 'unusual_prefix_bf003943cace27209001ebb4e442559170de2eda_simple_chat_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=simple_dag_example) from mod <module 'unusual_prefix_bab5e005947fb1f9b91c90f5c76b267857176661_simple_dag_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_dag_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_rag_summary_example) from mod <module 'unusual_prefix_b8dc1ac2c926a86c30d947aec0f6dac0a8a4dbb1_simple_rag_summary_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_rag_summary_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_chat_history) from mod <module 'unusual_prefix_3d17da5991749d37ad72ac979cda51f83e5b6ec3_simple_chat_history_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_chat_history_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_generate) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_simple_llm_client_count_token) from mod <module 'unusual_prefix_ea4d50bc0b0103e9046c97b37f7623d6ac2d6185_simple_llm_client_example' from '/Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/simple_llm_client_example.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Importing /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.dag.loader | Found dag DAG(dag_id=dbgpt_awel_data_analyst_assistant) from mod <module 'unusual_prefix_12b82a143120f511a6c265b333c2bc74a70ad7e2_data_analyst_assistant' from '/Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py'> and model file /Users/asif/Desktop/DB-GPT/examples/awel/data_analyst_assistant.py
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=89e08aad-0ded-405c-8734-d844d5bda638)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=89e08aad-0ded-405c-8734-d844d5bda638)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9e170>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9e170>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9e170>(AWEL_trigger_route__examples_rag_rewrite), endpoint: /examples/rag/rewrite, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/rewrite
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=9ff8313f-439b-4cd8-a39e-6ec5d6fb0bb8)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=9ff8313f-439b-4cd8-a39e-6ec5d6fb0bb8)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9ee60>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9ee60>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9ee60>(AWEL_trigger_route__examples_rag_schema_linking), endpoint: /examples/rag/schema_linking, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/schema_linking
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=d4e8ad37-32b1-48a7-b65e-9ad4d1a4d51c)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=d4e8ad37-32b1-48a7-b65e-9ad4d1a4d51c)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9f7f0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9f7f0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313b9f7f0>(AWEL_trigger_route__examples_simple_chat), endpoint: /examples/simple_chat, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_chat
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=46f5130b-88b4-4e46-a9da-3738277263e8)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=46f5130b-88b4-4e46-a9da-3738277263e8)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x313b9fe20>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x313b9fe20>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function_get at 0x313b9fe20>(AWEL_trigger_route__examples_hello), endpoint: /examples/hello, methods: ['GET']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/hello
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=06bfbd80-c054-4b2c-b0a3-0074c9535c75)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=06bfbd80-c054-4b2c-b0a3-0074c9535c75)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c20940>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c20940>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c20940>(AWEL_trigger_route__examples_rag_summary), endpoint: /examples/rag/summary, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/rag/summary
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4f646bf2-eb9e-40d7-86ca-c31e5fae591a)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=4f646bf2-eb9e-40d7-86ca-c31e5fae591a)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c21360>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c21360>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c21360>(AWEL_trigger_route__examples_simple_history_multi_round_chat_completions), endpoint: /examples/simple_history/multi_round/chat/completions, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_history/multi_round/chat/completions
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=08b28f2b-bef8-4e2d-8b1e-007a6169e523)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=08b28f2b-bef8-4e2d-8b1e-007a6169e523)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c21b40>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c21b40>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c21b40>(AWEL_trigger_route__examples_simple_client_chat_completions), endpoint: /examples/simple_client/chat/completions, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/chat/completions
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=c495d4b7-186f-4428-97d0-8ced0ab8aaf7)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=c495d4b7-186f-4428-97d0-8ced0ab8aaf7)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c23010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c23010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c23010>(AWEL_trigger_route__examples_simple_client_count_token), endpoint: /examples/simple_client/count_token, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/simple_client/count_token
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=b67aa1e7-3e73-4fa8-b4df-71b09e3a908b)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Register trigger HttpTrigger(node_id=b67aa1e7-3e73-4fa8-b4df-71b09e3a908b)
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c23640>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c23640>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | mount router function <function HttpTrigger._create_route_func.<locals>.create_route_function.<locals>.route_function at 0x313c23640>(AWEL_trigger_route__examples_data_analyst_copilot), endpoint: /examples/data_analyst/copilot, methods: ['POST']
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.http_trigger | Mount http trigger success, path: /api/v1/awel/trigger/examples/data_analyst/copilot
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.core.awel.trigger.trigger_manager | Include router <fastapi.routing.APIRouter object at 0x342052110> to prefix path /api/v1/awel/trigger
2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.manager | Begin start all worker, apply_req: None
2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x313dec1f0>
2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.manager | Apply req: None, apply_func: <function LocalWorkerManager._start_all_worker.<locals>._start_worker at 0x313dec1f0>
2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.manager | Apply to all workers
2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-09 14:47:52 | INFO | dbgpt.model.cluster.worker.default_worker | Begin load model, model params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================


2024-08-09 14:47:52 | INFO | dbgpt.model.adapter.proxy_adapter | Load model from params: 

=========================== ProxyModelParameters ===========================

model_name: ollama_proxyllm
model_path: ollama_proxyllm
proxy_server_url: http://127.0.0.1:11434
proxy_api_key: n******d
proxy_api_base: None
proxy_api_app_id: None
proxy_api_secret: None
proxy_api_type: None
proxy_api_version: None
http_proxy: None
proxyllm_backend: codegeex4:9b-all-q8_0
model_type: proxy
device: mps
prompt_template: None
max_context_size: 4096
llm_client_class: None

======================================================================

, llm client class: <class 'dbgpt.model.proxy.llms.ollama.OllamaLLMClient'>
2024-08-09 14:47:54 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-09 14:47:54 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-09 14:47:56 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-09 14:47:56 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-09 14:47:56 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-09 14:47:56 | WARNING | dbgpt.util.api_utils | No healthy urls found, selecting randomly
2024-08-09 14:47:56 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x313e27340>
2024-08-09 14:48:12 | WARNING | dbgpt.rag.summary.db_summary_client | clinical_trials, mssql summary error!(pymssql.exceptions.OperationalError) (40613, b"Database 'clinical_trials' on server 'ctmatchingserver.database.windows.net' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{AA7244DD-84EA-4FE3-BAA4-ED392600727B}'.DB-Lib error message 20018, severity 20:\nGeneral SQL Server error: Check messages from the SQL Server\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\n")
(Background on this error at: https://sqlalche.me/e/20/e3q8), detail: Traceback (most recent call last):
  File "src/pymssql/_pymssql.pyx", line 650, in pymssql._pymssql.connect
  File "src/pymssql/_mssql.pyx", line 2155, in pymssql._mssql.connect
  File "src/pymssql/_mssql.pyx", line 712, in pymssql._mssql.MSSQLConnection.__init__
  File "src/pymssql/_mssql.pyx", line 1881, in pymssql._mssql.maybe_raise_MSSQLDatabaseException
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (40613, b"Database 'clinical_trials' on server 'ctmatchingserver.database.windows.net' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{AA7244DD-84EA-4FE3-BAA4-ED392600727B}'.DB-Lib error message 20018, severity 20:\nGeneral SQL Server error: Check messages from the SQL Server\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\n")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 3303, in raw_connection
    return self.pool.connect()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 616, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
  File "src/pymssql/_pymssql.pyx", line 659, in pymssql._pymssql.connect
pymssql.exceptions.OperationalError: (40613, b"Database 'clinical_trials' on server 'ctmatchingserver.database.windows.net' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{AA7244DD-84EA-4FE3-BAA4-ED392600727B}'.DB-Lib error message 20018, severity 20:\nGeneral SQL Server error: Check messages from the SQL Server\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\n")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 75, in init_db_summary
    self.db_summary_embedding(item["db_name"], item["db_type"])
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 43, in db_summary_embedding
    db_summary_client = self.create_summary_client(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/db_summary_client.py", line 141, in create_summary_client
    return RdbmsSummary(dbname, db_type)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/rag/summary/rdbms_db_summary.py", line 38, in __init__
    self.db = db_manager.get_connector(name)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/datasource/manages/connector_manager.py", line 130, in get_connector
    return connect_instance.from_uri_db(  # type: ignore
  File "/Users/asif/Desktop/DB-GPT/dbgpt/datasource/rdbms/base.py", line 111, in from_uri_db
    return cls.from_uri(db_url, engine_args, **kwargs)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/datasource/rdbms/base.py", line 119, in from_uri
    return cls(create_engine(database_uri, **_engine_args), **kwargs)
  File "/Users/asif/Desktop/DB-GPT/dbgpt/datasource/rdbms/base.py", line 68, in __init__
    self._inspector = inspect(engine)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/inspection.py", line 140, in inspect
    ret = reg(subject)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/reflection.py", line 303, in _engine_insp
    return Inspector._construct(Inspector._init_engine, bind)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/reflection.py", line 236, in _construct
    init(self, bind)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/reflection.py", line 247, in _init_engine
    engine.connect().close()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 3279, in connect
    return self._connection_cls(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 147, in __init__
    Connection._handle_dbapi_exception_noconnection(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2443, in _handle_dbapi_exception_noconnection
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 145, in __init__
    self._dbapi_connection = engine.raw_connection()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 3303, in raw_connection
    return self.pool.connect()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 449, in connect
    return _ConnectionFairy._checkout(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1263, in _checkout
    fairy = _ConnectionRecord.checkout(pool)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 712, in checkout
    rec = pool._do_get()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/impl.py", line 179, in _do_get
    with util.safe_reraise():
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/impl.py", line 177, in _do_get
    return self._create_connection()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 390, in _create_connection
    return _ConnectionRecord(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 674, in __init__
    self.__connect()
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 900, in __connect
    with util.safe_reraise():
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 896, in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/create.py", line 643, in connect
    return dialect.connect(*cargs, **cparams)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 616, in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
  File "src/pymssql/_pymssql.pyx", line 659, in pymssql._pymssql.connect
sqlalchemy.exc.OperationalError: (pymssql.exceptions.OperationalError) (40613, b"Database 'clinical_trials' on server 'ctmatchingserver.database.windows.net' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{AA7244DD-84EA-4FE3-BAA4-ED392600727B}'.DB-Lib error message 20018, severity 20:\nGeneral SQL Server error: Check messages from the SQL Server\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\nDB-Lib error message 20002, severity 9:\nAdaptive Server connection failed (ctmatchingserver.database.windows.net)\n")
(Background on this error at: https://sqlalche.me/e/20/e3q8)

2024-08-09 14:48:51 | INFO | dbgpt.app.openapi.api_v1.api_v1 | /controller/model/types
2024-08-09 14:48:51 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-09 14:48:51 | INFO | dbgpt.model.cluster.controller.controller | Get all instances with None, healthy_only: True
2024-08-09 14:49:02 | INFO | dbgpt.app.openapi.api_v1.api_v1 | chat_completions:chat_with_db_execute,clinical_trials,ollama_proxyllm
2024-08-09 14:49:02 | INFO | dbgpt.app.openapi.api_v1.api_v1 | get_chat_instance:conv_uid='6a43fa30-5630-11ef-94d1-0a065cd3fd91' user_input='How many unique patients are present in the database?' user_name=None chat_mode='chat_with_db_execute' select_param='clinical_trials' model_name='ollama_proxyllm' incremental=False sys_code=None
2024-08-09 14:49:02 | INFO | dbgpt.datasource.manages.connect_config_db | Result: <sqlalchemy.engine.cursor.CursorResult object at 0x31b2f42e0>
2024-08-09 14:50:12 | INFO | dbgpt.serve.rag.connector | VectorStore:<class 'dbgpt.storage.vector_store.chroma_store.ChromaStore'>
2024-08-09 14:50:12 | INFO | dbgpt.storage.vector_store.chroma_store | ChromaStore similar search
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e240a03e-ef9a-4f5e-bc76-82bf28b73f8a, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e240a03e-ef9a-4f5e-bc76-82bf28b73f8a, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: e240a03e-ef9a-4f5e-bc76-82bf28b73f8a, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 584049b4-ade5-4a6c-bc9c-4430132f1348, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 584049b4-ade5-4a6c-bc9c-4430132f1348, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: 584049b4-ade5-4a6c-bc9c-4430132f1348, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.app.scene.base_chat | Request: 
ModelRequest(model='ollama_proxyllm', messages=[ModelMessage(role='system', content='\nPlease answer the user\'s question based on the database selected by the user and some of the available table structure definitions of the database.\nDatabase name:\n     clinical_trials\nTable structure definition:\n     [\'dbo.claims(Id,PATIENTID,PROVIDERID,PRIMARYPATIENTINSURANCEID,SECONDARYPATIENTINSURANCEID,DEPARTMENTID,PATIENTDEPARTMENTID,DIAGNOSIS1,DIAGNOSIS2,DIAGNOSIS3,DIAGNOSIS4,DIAGNOSIS5,DIAGNOSIS6,DIAGNOSIS7,DIAGNOSIS8,REFERRINGPROVIDERID,APPOINTMENTID,CURRENTILLNESSDATE,SERVICEDATE,SUPERVISINGPROVIDERID,STATUS1,STATUS2,STATUSP,OUTSTANDING1,OUTSTANDING2,OUTSTANDINGP,LASTBILLEDDATE1,LASTBILLEDDATE2,LASTBILLEDDATEP,HEALTHCARECLAIMTYPEID1,HEALTHCARECLAIMTYPEID2);\', \'dbo.claims_transactions(ID,CLAIMID,CHARGEID,PATIENTID,TYPE,AMOUNT,METHOD,FROMDATE,TODATE,PLACEOFSERVICE,PROCEDURECODE,MODIFIER1,MODIFIER2,DIAGNOSISREF1,DIAGNOSISREF2,DIAGNOSISREF3,DIAGNOSISREF4,UNITS,DEPARTMENTID,NOTES,UNITAMOUNT,TRANSFEROUTID,TRANSFERTYPE,PAYMENTS,ADJUSTMENTS,TRANSFERS,OUTSTANDING,APPOINTMENTID,LINENOTE,PATIENTINSURANCEID,FEESCHEDULEID,PROVIDERID,SUPERVISINGPROVIDERID);\', \'dbo.devices(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,UDI);\', \'dbo.imaging_studies(Id,DATE,PATIENT,ENCOUNTER,SERIES_UID,BODYSITE_CODE,BODYSITE_DESCRIPTION,MODALITY_CODE,MODALITY_DESCRIPTION,INSTANCE_UID,SOP_CODE,SOP_DESCRIPTION,PROCEDURE_CODE);\', \'dbo.patients(Id,BIRTHDATE,DEATHDATE,SSN,DRIVERS,PASSPORT,PREFIX,FIRST,LAST,SUFFIX,MAIDEN,MARITAL,RACE,ETHNICITY,GENDER,BIRTHPLACE,ADDRESS,CITY,STATE,COUNTY,ZIP,LAT,LON,HEALTHCARE_EXPENSES,HEALTHCARE_COVERAGE,Age);\', \'dbo.payer_transitions(PATIENT,MEMBERID,START_YEAR,END_YEAR,PAYER,SECONDARY_PAYER,OWNERSHIP,OWNERNAME);\', \'dbo.conditions(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION);\', \'dbo.observations(DATE,PATIENT,ENCOUNTER,CATEGORY,CODE,DESCRIPTION,VALUE,UNITS,TYPE);\', \'dbo.immunizations(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST);\', \'dbo.StudyData(Trial ID,Type,Phase,URL,Entity,Attribute,Value,Temporal,Modifier,Source Sentence,conceptid);\', \'dbo.encounters(Id,START,STOP,PATIENT,ORGANIZATION,PROVIDER,PAYER,ENCOUNTERCLASS,CODE,DESCRIPTION,BASE_ENCOUNTER_COST,TOTAL_CLAIM_COST,PAYER_COVERAGE,REASONCODE,REASONDESCRIPTION);\', \'dbo.payers(Id,NAME,ADDRESS,CITY,STATE_HEADQUARTERED,ZIP,PHONE,AMOUNT_COVERED,AMOUNT_UNCOVERED,REVENUE,COVERED_ENCOUNTERS,UNCOVERED_ENCOUNTERS,COVERED_MEDICATIONS,UNCOVERED_MEDICATIONS,COVERED_PROCEDURES,UNCOVERED_PROCEDURES,COVERED_IMMUNIZATIONS,UNCOVERED_IMMUNIZATIONS,UNIQUE_CUSTOMERS,QOLS_AVG,MEMBER_MONTHS);\', \'dbo.sysdiagrams(name,principal_id,diagram_id,version,definition);\', \'dbo.medications(START,STOP,PATIENT,PAYER,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,PAYER_COVERAGE,DISPENSES,TOTALCOST,REASONCODE,REASONDESCRIPTION);\', \'dbo.procedures(START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,BASE_COST,REASONCODE,REASONDESCRIPTION);\', \'dbo.providers(Id,ORGANIZATION,NAME,GENDER,SPECIALITY,ADDRESS,CITY,STATE,ZIP,LAT,LON,UTILIZATION);\', \'dbo.supplies(DATE,PATIENT,ENCOUNTER,CODE,DESCRIPTION,QUANTITY);\', \'dbo.allergies(START,STOP,PATIENT,ENCOUNTER,CODE,SYSTEM,DESCRIPTION,TYPE,CATEGORY,REACTION1,DESCRIPTION1,SEVERITY1,REACTION2,DESCRIPTION2,SEVERITY2);\', \'dbo.careplans(Id,START,STOP,PATIENT,ENCOUNTER,CODE,DESCRIPTION,REASONCODE,REASONDESCRIPTION);\']\n\nConstraint:\n    1.Please understand the user\'s intention based on the user\'s question, and use the given table structure definition to create a grammatically correct mssql sql. If sql is not required, answer the user\'s question directly.. \n    2.Always limit the query to a maximum of 50 results unless the user specifies in the question the specific number of rows of data he wishes to obtain.\n    3.You can only use the tables provided in the table structure information to generate sql. If you cannot generate sql based on the provided table structure, please say: "The table structure information provided is not enough to generate sql queries." It is prohibited to fabricate information at will.\n    4.Please be careful not to mistake the relationship between tables and columns when generating SQL.\n    5.Please check the correctness of the SQL and ensure that the query performance is optimized under correct conditions.\n    6.Please choose the best one from the display methods given below for data rendering, and put the type name into the name parameter value that returns the required format. If you cannot find the most suitable one, use \'Table\' as the display method. , the available data display methods are as follows: response_line_chart:used to display comparative trend analysis data\nresponse_pie_chart:suitable for scenarios such as proportion and distribution statistics\nresponse_table:suitable for display with many display columns or non-numeric columns\nresponse_scatter_plot:Suitable for exploring relationships between variables, detecting outliers, etc.\nresponse_bubble_chart:Suitable for relationships between multiple variables, highlighting outliers or special situations, etc.\nresponse_donut_chart:Suitable for hierarchical structure representation, category proportion display and highlighting key categories, etc.\nresponse_area_chart:Suitable for visualization of time series data, comparison of multiple groups of data, analysis of data change trends, etc.\nresponse_heatmap:Suitable for visual analysis of time series data, large-scale data sets, distribution of classified data, etc.\n    \nUser Question:\n    How many unique patients are present in the database?\nPlease think step by step and respond according to the following JSON format:\n    "{\\n    \\"thoughts\\": \\"thoughts summary to say to user\\",\\n    \\"sql\\": \\"SQL Query to run\\",\\n    \\"display_type\\": \\"Data display method\\"\\n}"\nEnsure the response is correct json and can be parsed by Python json.loads.\n\n', round_index=0), ModelMessage(role='human', content='How many unique patients are present in the database?', round_index=0)], temperature=0.5, max_new_tokens=1024, stop=None, stop_token_ids=None, context_len=None, echo=False, span_id='1ff98055f724338a905ed6ec2153e5e3:e04406c8c716b340', context=ModelRequestContext(stream=False, cache_enable=False, user_name=None, sys_code=None, conv_uid=None, span_id='1ff98055f724338a905ed6ec2153e5e3:e04406c8c716b340', chat_mode='chat_with_db_execute', chat_param=None, extra={}, request_id=None))
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d66d149e-617d-492b-abee-5d91d9d75ce9, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d66d149e-617d-492b-abee-5d91d9d75ce9, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Begin run workflow from end operator, id: d66d149e-617d-492b-abee-5d91d9d75ce9, runner: <dbgpt.core.awel.runner.local_runner.DefaultWorkflowRunner object at 0x342052200>
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 0 result None, is_empty: False
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | Skip node name llm_model_cache_node
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.operators.common_operator | branch_input_ctxs 1 result True, is_empty: False
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id f67447b0-d213-4e44-967f-7d6d9f0e8f91
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id f67447b0-d213-4e44-967f-7d6d9f0e8f91
2024-08-09 14:50:19 | INFO | dbgpt.core.awel.runner.local_runner | Skip node name llm_model_cache_node, node id f67447b0-d213-4e44-967f-7d6d9f0e8f91
2024-08-09 14:50:19 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-09 14:50:19 | INFO | dbgpt.model.adapter.base | Message version is v2
2024-08-09 14:50:42 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-09 14:50:42 | INFO | dbgpt.model.cluster.worker.default_worker | is_first_generate, usage: None
2024-08-09 14:50:47 | INFO | dbgpt.app.scene.chat_db.auto_execute.out_parser | clean prompt response: {     "thoughts": "To determine the number of unique patients, we need to query the 'patients' table and count distinct patient IDs.",     "sql": "SELECT COUNT(DISTINCT Id) AS UniquePatientCount FROM dbo.patients",     "display_type": "response_table" }
2024-08-09 14:50:47 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT Id) AS UniquePatientCount FROM dbo.patients
2024-08-09 14:50:47 | INFO | dbgpt.datasource.rdbms.base | SQL:SELECT COUNT(DISTINCT Id) AS UniquePatientCount FROM dbo.patients, ttype:Token.Keyword.DML, sql_type:SELECT, table:None
2024-08-09 14:50:47 | INFO | dbgpt.datasource.rdbms.base | Query[SELECT COUNT(DISTINCT Id) AS UniquePatientCount FROM dbo.patients]
2024-08-09 17:32:29 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
2024-08-09 17:32:29 | ERROR | sqlalchemy.pool.impl.QueuePool | Exception during reset or similar
Traceback (most recent call last):
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 986, in _finalize_fairy
    fairy._reset(
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 1432, in _reset
    pool._dialect.do_rollback(self)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/dialects/mssql/base.py", line 3140, in do_rollback
    super().do_rollback(dbapi_connection)
  File "/Users/asif/miniconda3/envs/dbgpt_env/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 692, in do_rollback
    dbapi_connection.rollback()
  File "src/pymssql/_pymssql.pyx", line 292, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_pymssql.pyx", line 276, in pymssql._pymssql.Connection.rollback
  File "src/pymssql/_mssql.pyx", line 1094, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1115, in pymssql._mssql.MSSQLConnection.execute_non_query
  File "src/pymssql/_mssql.pyx", line 1289, in pymssql._mssql.MSSQLConnection.format_and_run_query
  File "src/pymssql/_mssql.pyx", line 1852, in pymssql._mssql.check_cancel_and_raise
  File "src/pymssql/_mssql.pyx", line 1898, in pymssql._mssql.raise_MSSQLDatabaseException
pymssql._mssql.MSSQLDatabaseException: (20004, b'DB-Lib error message 20004, severity 9:\nRead from the server failed\nNet-Lib error during Connection reset by peer (54)\n')
